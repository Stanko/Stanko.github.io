{"version":3,"sources":["app.js"],"names":["animateScrollTo","desiredOffset","userOptions","arguments","length","undefined","defaultOptions","speed","minDuration","maxDuration","cancelOnUserAction","options","Object","keys","forEach","key","initialScrollPosition","window","scrollY","document","documentElement","scrollTop","maxScroll","Math","max","body","scrollHeight","offsetHeight","clientHeight","innerHeight","diff","duration","abs","round","startingTime","Date","now","requestID","handleUserEvent","e","cancelAnimationFrame","addEventListener","preventDefault","step","timeDiff","t","easing","scrollPosition","scrollTo","requestAnimationFrame","removeEventListener","commentForm","querySelector","commentFormInputs","querySelectorAll","slugInput","optionsSlugInput","nameInput","lastNameInput","emailInput","messageInput","errorMessagesDiv","sendFailedDiv","sendSucceededDiv","overlayDiv","post","url","data","callback","errorCallback","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","send","encodeURI","innerHTML","style","display","slug","value","trim","optionsSlug","name","lastName","email","message","error","fatalError","messages","push","search","join","params","i","input","target","getAttribute","text","reset","root","fuzzy","PREFIX","SUFFIX","calculateScore","string","split","recursiveMatch","pattern","compareString","result","idx","ch","arr","slice","map","str","concat","apply","simpleFilter","array","filter","test","match","opts","pre","caseSensitive","toLowerCase","el","rendered","score","reduce","prev","next","element","extract","index","original","sort","a","b","compare","commentsLink","comments","postBgArchive","getElementOffset","top","left","offsetTop","offsetLeft","offsetParent","id","floor","random","src","replace","setAttribute","title","menu","searchInput","menuWrapper","menuToggles","searchResults","html","prevSearch","timeout","MIN_CHARACTERS","renderResult","clearTimeout","setTimeout","classList","toggle","focus","remove","newSearch","results","posts"],"mappings":"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","file":"app.js","sourcesContent":["function animateScrollTo(desiredOffset) {\n  var userOptions = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n  var defaultOptions = {\n    speed: 500,\n    minDuration: 250,\n    maxDuration: 3000,\n    cancelOnUserAction: true\n  };\n\n  var options = {};\n\n  Object.keys(defaultOptions).forEach(function (key) {\n    options[key] = userOptions[key] ? userOptions[key] : defaultOptions[key];\n  });\n\n  // get cross browser scroll position\n  var initialScrollPosition = window.scrollY || document.documentElement.scrollTop;\n  // cross browser document height minus window height\n  var maxScroll = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight) - window.innerHeight;\n\n  // If the scroll position is greater than maximum available scroll\n  if (desiredOffset > maxScroll) {\n    desiredOffset = maxScroll;\n  }\n\n  // Calculate diff to scroll\n  var diff = desiredOffset - initialScrollPosition;\n\n  // Do nothing if the page is already there\n  if (diff === 0) {\n    return;\n  }\n\n  // Calculate duration of the scroll\n  var duration = Math.abs(Math.round(diff / 1000 * options.speed));\n\n  // Set minimum and maximum duration\n  if (duration < options.minDuration) {\n    duration = options.minDuration;\n  } else if (duration > options.maxDuration) {\n    duration = options.maxDuration;\n  }\n\n  var startingTime = Date.now();\n\n  // Request animation frame ID\n  var requestID = null;\n\n  // Method handler\n  var handleUserEvent = null;\n\n  if (options.cancelOnUserAction) {\n    // Set handler to cancel scroll on user action\n    handleUserEvent = function handleUserEvent(e) {\n      cancelAnimationFrame(requestID);\n    };\n    window.addEventListener('keydown', handleUserEvent);\n  } else {\n    // Set handler to prevent user actions while scroll is active\n    handleUserEvent = function handleUserEvent(e) {\n      e.preventDefault();\n    };\n    window.addEventListener('scroll', handleUserEvent);\n  }\n\n  window.addEventListener('wheel', handleUserEvent);\n  window.addEventListener('touchstart', handleUserEvent);\n\n  var step = function step() {\n    var timeDiff = Date.now() - startingTime;\n    var t = timeDiff / duration - 1;\n    var easing = t * t * t + 1;\n    var scrollPosition = Math.round(initialScrollPosition + diff * easing);\n\n    if (timeDiff < duration && scrollPosition !== desiredOffset) {\n      // If scroll didn't reach desired offset or time is not elapsed\n      // Scroll to a new position\n      // And request a new step\n\n      window.scrollTo(0, scrollPosition);\n      requestID = requestAnimationFrame(step);\n    } else {\n      // If the time elapsed or we reached the desired offset\n      // Set scroll to the desired offset (when rounding made it to be off a pixel or two)\n      // Clear animation frame to be sure\n      window.scrollTo(0, desiredOffset);\n      cancelAnimationFrame(requestID);\n\n      // Remove listeners\n      window.removeEventListener('wheel', handleUserEvent);\n      window.removeEventListener('touchstart', handleUserEvent);\n\n      if (options.cancelOnUserAction) {\n        window.removeEventListener('keydown', handleUserEvent);\n      } else {\n        window.removeEventListener('scroll', handleUserEvent);\n      }\n    }\n  };\n\n  // Start animating scroll\n  requestID = requestAnimationFrame(step);\n}\n\nconst commentForm = document.querySelector('.CommentForm');\nconst commentFormInputs = document.querySelectorAll('.CommentForm-input');\nconst slugInput = document.querySelector('.CommentForm-input--slug');\nconst optionsSlugInput = document.querySelector('.CommentForm-input--optionsSlug');\nconst nameInput = document.querySelector('.CommentForm-input--name');\nconst lastNameInput = document.querySelector('.CommentForm-input--lastName');\nconst emailInput = document.querySelector('.CommentForm-input--email');\nconst messageInput = document.querySelector('.CommentForm-input--message');\nconst errorMessagesDiv = document.querySelector('.CommentForm-errorMessages');\nconst sendFailedDiv = document.querySelector('.CommentForm-sendFailed');\nconst sendSucceededDiv = document.querySelector('.CommentForm-sendSucceeded');\nconst overlayDiv = document.querySelector('.CommentForm-overlay');\n\nfunction post(url, data, callback, errorCallback) {\n  const xhr = new XMLHttpRequest();\n  xhr.open('POST', url);\n  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n  xhr.onload = function() {\n    if (xhr.status === 200) {\n      callback(xhr.responseText);\n    } else if (xhr.status !== 200) {\n      errorCallback(xhr.responseText);\n    }\n  };\n  xhr.send(encodeURI(data));\n}\n\nif (commentForm) {\n  commentForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    errorMessagesDiv.innerHTML = '';\n    sendFailedDiv.style.display = 'none';\n    sendSucceededDiv.style.display = 'none';\n\n    const slug = slugInput.value.trim();\n    const optionsSlug = optionsSlugInput.value.trim();\n    const name = nameInput.value.trim();\n    const lastName = lastNameInput.value.trim();\n    const email = emailInput.value.trim();\n    const message = messageInput.value.trim();\n\n    let error = false;\n    let fatalError = false;\n    const messages = [];\n\n    if (slug === '' || slug !== optionsSlug || lastName !== '') {\n      fatalError = true;\n    }\n\n    if (name.length < 2) {\n      error = true;\n      messages.push('Please enter name');\n    }\n\n    if (email.search(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/) === -1) {\n      error = true;\n      messages.push('Please enter valid email');\n    }\n\n    if (message.length < 2) {\n      error = true;\n      messages.push('Please enter message');\n    }\n\n    if (fatalError) {\n      return false;\n    }\n\n    if (error) {\n      errorMessagesDiv.innerHTML = messages.join('<br>');\n      return false;\n    }\n\n\n    const params = [];\n\n    for (let i = 0; i < commentFormInputs.length; i++) {\n      const input = commentFormInputs[i];\n      params.push(`${ input.name }=${ input.value }`);\n    }\n\n    overlayDiv.style.display = 'flex';\n\n    post(\n      e.target.getAttribute('data-action'),\n      params.join('&'),\n      function(text){\n        commentForm.reset();\n        sendSucceededDiv.style.display = 'block';\n        overlayDiv.style.display = 'none';\n      },\n      function(text){\n        sendFailedDiv.style.display = 'block';\n        overlayDiv.style.display = 'none';\n      }\n    );\n  });\n}\n\n/*\n * Fuzzy\n * https://github.com/myork/fuzzy\n *\n * Copyright (c) 2012 Matt York\n * Licensed under the MIT license.\n */\n\n(function() {\n\nvar root = this;\n\nvar fuzzy = {};\n\nwindow.fuzzy = fuzzy;\n\n// prefix & suffix for score calculation\n// need this in order to split matching & scoring in two phases\nvar PREFIX = '<strong>';\nvar SUFFIX = '</strong>';\n\nvar calculateScore = function(string) {\n  return string.split(PREFIX).length - 1 + (string.split(SUFFIX + PREFIX).length - 1) * 10;\n};\n\nvar recursiveMatch = function(pattern, string, compareString) {\n  if (pattern.length === 0 || string.length === 0 || pattern.length > string.length) {\n    return [string];\n  }\n\n  var result = [];\n\n  for(var idx = 0; idx < string.length; idx++) {\n    if (pattern[0] === compareString[idx]) {\n      var ch = PREFIX + string[idx] + SUFFIX;\n\n      var arr = recursiveMatch(pattern.slice(1), string.slice(idx + 1), compareString.slice(idx + 1));\n\n      arr = arr.map(function(str){\n        return string.slice(0, idx) + ch + str;\n      });\n\n      result[result.length] = arr;\n    }\n  }\n\n  return [].concat.apply([], result); // flatten\n};\n\n// Return all elements of `array` that have a fuzzy\n// match against `pattern`.\nfuzzy.simpleFilter = function(pattern, array) {\n  return array.filter(function(string) {\n    return fuzzy.test(pattern, string);\n  });\n};\n\n// Does `pattern` fuzzy match `string`?\nfuzzy.test = function(pattern, string) {\n  return fuzzy.match(pattern, string) !== null;\n};\n\nfuzzy.match = function(pattern, string, opts) {\n  opts = opts || {};\n\n  /**\n    pre - prefix\n    post - suffix\n    compareString - String to compare against. This might be a\n      lowercase version of the raw string\n  **/\n  var pre = opts.pre || '<strong>'\n    , post = opts.post || '</strong>'\n    , compareString = opts.caseSensitive && string || string.toLowerCase();\n\n  pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n\n  var result = recursiveMatch(pattern, string, compareString)\n    .filter(function(el) {\n      return el.split(PREFIX).length - 1 === pattern.length;\n    });\n\n  if (result.length === 0) {\n    return null;\n  }\n\n  return result\n    .map(function(el) {\n      return {\n        rendered: el.split(PREFIX).join(pre).split(SUFFIX).join(post),\n        score: calculateScore(el),\n      };\n    })\n\n    .reduce(function(prev, next) {\n      return prev.score > next.score ? prev : next;\n    });\n}\n\n// The normal entry point. Filters `arr` for matches against `pattern`.\n// It returns an array with matching values of the type:\n//\n//     [{\n//         string:   '<b>lah' // The rendered string\n//       , index:    2        // The index of the element in `arr`\n//       , original: 'blah'   // The original element in `arr`\n//     }]\n//\n// `opts` is an optional argument bag. Details:\n//\n//    opts = {\n//        // string to put before a matching character\n//        pre:     '<b>'\n//\n//        // string to put after matching character\n//      , post:    '</b>'\n//\n//        // Optional function. Input is an entry in the given arr`,\n//        // output should be the string to test `pattern` against.\n//        // In this example, if `arr = [{crying: 'koala'}]` we would return\n//        // 'koala'.\n//      , extract: function(arg) { return arg.crying; }\n//    }\nfuzzy.filter = function(pattern, arr, opts) {\n  if(!arr || arr.length === 0) {\n    return []\n  }\n  if (typeof pattern !== 'string') {\n    return arr\n  }\n  opts = opts || {};\n  return arr\n    .reduce(function(prev, element, idx, arr) {\n      var str = element;\n      if(opts.extract) {\n        str = opts.extract(element);\n      }\n      var rendered = fuzzy.match(pattern, str, opts);\n      if(rendered != null) {\n        prev[prev.length] = {\n            string: rendered.rendered\n          , score: rendered.score\n          , index: idx\n          , original: element\n        };\n      }\n      return prev;\n    }, [])\n\n    // Sort by score. Browsers are inconsistent wrt stable/unstable\n    // sorting, so force stable by using the index in the case of tie.\n    // See http://ofb.net/~sethml/is-sort-stable.html\n    .sort(function(a,b) {\n      var compare = b.score - a.score;\n      if(compare) return compare;\n      return a.index - b.index;\n    });\n};\n\n\n}());\n\nconst commentsLink = document.querySelector('.Post-commentsLink');\nconst comments = document.querySelector('#comments');\nconst postBgArchive = document.querySelector('.Post-bg--archive');\n\nfunction getElementOffset(element) {\n    let top = 0, left = 0;\n    do {\n      top += element.offsetTop || 0;\n      left += element.offsetLeft || 0;\n      element = element.offsetParent;\n    } while (element);\n\n    return {\n        top: top,\n        left: left\n    }\n}\n\ncommentsLink && commentsLink.addEventListener('click', function(e) {\n  e.preventDefault();\n  animateScrollTo(getElementOffset(comments).top);\n});\n\n\nif (postBgArchive) {\n  const id = Math.floor(Math.random() * (2 - 0)) + 0;\n  const src = postBgArchive.getAttribute('data-src').replace('ID', id);\n  postBgArchive.setAttribute('src', src);\n}\n\nconst options = {\n  extract: function(el) { return el.title; }\n};\n\nconst menu = document.querySelector('.Menu');\nconst searchInput = document.querySelector('.Menu-input');\nconst menuWrapper = document.querySelector('.Menu-menuWrapper');\nconst menuToggles = document.querySelectorAll('.Menu-toggle');\nconst searchResults = document.querySelector('.Menu-results');\nconst html = document.querySelector('html');\n\nlet prevSearch = '';\nlet timeout = null;\n\nconst MIN_CHARACTERS = 1;\n\nfunction renderResult(title, url) {\n  return `<div><a href=\"${ url }\">${ title }</a></div>`;\n}\n\n\nfor (let i = 0; i < menuToggles.length; i++) {\n  const element = menuToggles[i];\n  element.addEventListener('click', function() {\n    clearTimeout(timeout);\n\n    if (menu.style.display === 'none' || !menu.style.display) {\n      menu.style.display = 'block';\n      timeout = setTimeout(function(){\n        html.classList.toggle('Html--menuActive');\n        searchInput.focus();\n      }, 30);\n    } else {\n      html.classList.remove('Html--menuActive');\n\n      timeout = setTimeout(function(){\n        menu.style.display = 'none';\n      }, 500);\n    }\n  });\n}\n\nsearchInput.addEventListener('keyup', function() {\n  const newSearch = searchInput.value.trim();\n\n  if (prevSearch === newSearch) {\n    return;\n  }\n\n  menuWrapper.style.display = newSearch.length > 0 ? 'none' : '';\n\n  if (newSearch.length < MIN_CHARACTERS) {\n    searchResults.innerHTML = '';\n    prevSearch = '';\n    return;\n  }\n\n  const results = fuzzy.filter(newSearch, posts, options);\n\n  if (results.length) {\n    const html = results.map(result => renderResult(result.string, result.original.url)).join('');\n    searchResults.innerHTML = html;\n  } else {\n    searchResults.innerHTML = '<div class=\"Menu-noResults\">No results</div>';\n  }\n\n  prevSearch = newSearch;\n\n});\n"]}