<!doctype html><html class=blue lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Deploying React (Router) app to the subfolder on server · Muffin Man</title><meta content="
May 2018 - Updated to match React Router v4 API.
September 2019 - Updated to match React Router v5 API, added React Create App part.

If you ever had…" name=description><meta content="Muffin Man" property=og:site_name><meta content="Deploying React (Router) app to the subfolder on server" property=og:title><meta content="
May 2018 - Updated to match React Router v4 API.
September 2019 - Updated to match React Router v5 API, added React Create App part.

If you ever had…" property=og:description><meta content=https://muffinman.io/blog/react-router-subfolder-on-server/ property=og:url><meta content="Deploying React (Router) app to the subfolder on server" name=twitter:title><meta content="
May 2018 - Updated to match React Router v4 API.
September 2019 - Updated to match React Router v5 API, added React Create App part.

If you ever had…" name=twitter:description><meta content=https://muffinman.io/favicon/blue/cover.png property=twitter:image><meta content=https://muffinman.io/favicon/blue/cover.png property=og:image><link href=/favicon/blue/icon-32.ico rel=icon sizes=any><link href=/favicon/blue/icon.svg rel=icon type=image/svg+xml><link href=/favicon/blue/icon-180.png rel=apple-touch-icon><link href=/favicon/blue/manifest.webmanifest rel=manifest><link href=/style.css rel=stylesheet><link href=/atom.xml rel=alternate title=RSS type=application/rss+xml><script>var isSystemDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    var userSelected = localStorage.getItem('color-scheme');
    var scheme = 'light-scheme';
    if (userSelected) { scheme = userSelected } else if (isSystemDark) { scheme = 'dark-scheme'; }
    document.documentElement.classList.add(scheme);</script><body><div id=page><a class=jump-to-content href=#content>Jump to content</a><header class=menu><div class=container><a aria-label=Home class=menu__logo href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><button title="Switch color scheme" class=color-scheme-switcher><span aria-label="Switch to the dark color scheme" class=color-scheme-switcher__to-dark> <svg viewbox="0 0 20 20" aria-hidden=true height=20 width=20> <path d="M19 11.6424L19.982 11.8312C20.0687 11.3804 19.8373 10.9286 19.4211 10.7354C19.0048 10.5421 18.5104 10.6571 18.222 11.0142L19 11.6424ZM8.35755 1L8.98583 1.77799C9.34289 1.48963 9.45783 0.995241 9.26458 0.578948C9.07134 0.162655 8.61953 -0.068649 8.16882 0.0179715L8.35755 1ZM18.222 11.0142C17.0163 12.5071 15.1742 13.4591 13.109 13.4591V15.4591C15.804 15.4591 18.2089 14.2136 19.778 12.2707L18.222 11.0142ZM13.109 13.4591C9.48151 13.4591 6.54086 10.5185 6.54086 6.89102H4.54086C4.54086 11.6231 8.37694 15.4591 13.109 15.4591V13.4591ZM6.54086 6.89102C6.54086 4.8258 7.49287 2.98365 8.98583 1.77799L7.72927 0.222011C5.78634 1.79106 4.54086 4.19595 4.54086 6.89102H6.54086ZM2 9.91827C2 5.98059 4.81714 2.69872 8.54628 1.98203L8.16882 0.0179715C3.51562 0.912252 0 5.00362 0 9.91827H2ZM10.0817 18C5.61831 18 2 14.3817 2 9.91827H0C0 15.4863 4.51374 20 10.0817 20V18ZM18.018 11.4537C17.3013 15.1829 14.0194 18 10.0817 18V20C14.9964 20 19.0878 16.4844 19.982 11.8312L18.018 11.4537Z" fill=currentColor /> </svg> </span> <span aria-label="Switch to the light color scheme" class=color-scheme-switcher__to-light> <svg viewbox="0 0 26 26" aria-hidden=true height=26 width=26> <g fill=none stroke=currentColor stroke-linecap=round stroke-width=2> <circle cx=13 cy=13 r=5 /> <path d="M13 4V1.5"/> <path d="M13 24.5V22"/> <path d="M4 13H1.5"/> <path d="M24.5 13H22"/> <path d="M6.63604 6.63604L4.86827 4.86827"/> <path d="M21.1317 21.1317L19.364 19.364"/> <path d="M6.63604 19.364L4.86827 21.1317"/> <path d="M21.1317 4.86828L19.364 6.63605"/> </g> </svg> </span></button><nav class="nav nav--header"><a class="nav__item nav__item--with-icon" href=/art/> Art </a><span aria-hidden=true>/</span><a class=nav__item href=/archive/> Blog </a><span aria-hidden=true>/</span><a class=nav__item href=/about/> About </a><span aria-hidden=true>/</span><button class="nav__item nav__item--with-icon" data-micromodal-trigger=modal-menu>Search <svg viewbox="0 0 20 32" aria-hidden=true class=nav__search-icon height=16 width=10 xmlns=http://www.w3.org/2000/svg> <g fill=none stroke=currentColor stroke-linecap=round stroke-width=3> <circle cx=10 cy=10 r=10 /> <path d="M 10 20 L 10 32"/> </g> </svg></button></nav><button class="menu__toggle menu__toggle--static" aria-label=Menu data-micromodal-trigger=modal-menu><span></span> <span></span> <span></span></button></div><div class="menu__toggle-fixed-wrapper menu__toggle-fixed-wrapper--hidden"><button class="menu__toggle menu__toggle--fixed" aria-label=Menu data-micromodal-trigger=modal-menu tabindex=-1><span></span> <span></span> <span></span></button></div></header><div class=menu-stripe></div><section class=main id=content role=main tabindex=-1><div class=post__top><div class="container post__top-content"><h1 class=post__title>Deploying React (Router) app to the subfolder on server</h1><div class=post__date>18. January 2017</div><div class=post__info><div>Posted in <a href=/archive/#react>React</a></div><span class=post__info-separator>·</span> 3 minutes read <div class=post__comments-link><a class=scroll-to href=#comments>29 Comments</a></div></div></div></div><div class="container post__container"><div class=content><ul><li>May 2018 - Updated to match React Router v4 API.<li>September 2019 - Updated to match React Router v5 API, added React Create App part.</ul><p>If you ever had to deploy React Router app to the subfolder on the server, you know what the problem is. Routes will get messed up once you upload it to the server. Here are two solutions I use in these cases.<h2 id=easy-way-just-use-hashrouter>Easy way, just use <code>HashRouter</code><a aria-label="Anchor link for: easy-way-just-use-hashrouter" title="Anchor link for: easy-way-just-use-hashrouter" class=header-anchor href=#easy-way-just-use-hashrouter> <span aria-hidden=true class=sr-only>#</span></a></h2><p>The easiest way to achieve this is to use <code>HashRouter</code> instead of <code>BrowserRouter</code>.<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#c678dd;>import </span><span>{ </span><span style=color:#e06c75;>HashRouter</span><span>, </span><span style=color:#e06c75;>Route </span><span>} </span><span style=color:#c678dd;>from </span><span style=color:#98c379;>'react-router-dom'</span><span>;
</span><span>
</span><span style=color:#5c6370;>// Then in render
</span><span>&LTHashRouter>
</span><span>  </span><span style=color:#c678dd;><</span><span style=color:#e06c75;>Route path</span><span style=color:#c678dd;>=</span><span style=color:#98c379;>'/' </span><span style=color:#e06c75;>component</span><span style=color:#c678dd;>=</span><span>{ </span><span style=color:#e06c75;>Home </span><span>} </span><span style=color:#e06c75;>exact </span><span style=color:#c678dd;>/>
</span><span>  </span><span style=color:#c678dd;><</span><span style=color:#e06c75;>Route path</span><span style=color:#c678dd;>=</span><span style=color:#98c379;>'/about' </span><span style=color:#e06c75;>component</span><span style=color:#c678dd;>=</span><span>{ </span><span style=color:#e06c75;>About </span><span>} </span><span style=color:#e06c75;>exact </span><span style=color:#c678dd;>/>
</span><span>  {</span><span style=color:#5c6370;>/*...*/</span><span>}
</span><span style=color:#c678dd;>&LT/</span><span style=color:#e06c75;>HashRouter</span><span style=color:#c678dd;>>
</span></code></pre><p>This is the best approach if your subfolder name changes (for example, if folder name is a build version). But you'll have <code>/#/</code> included in the every URL. If this bothers you, check the second solution.</p><span id=continue-reading></span><p>Example of the routes<ul><li><code>http://yourserver.com/path/to/subfolder/</code><li><code>http://yourserver.com/path/to/subfolder/#/about</code><li><code>http://yourserver.com/path/to/subfolder/#/search</code></ul><h2 id=hard-way-setting-base-path-by-hand>Hard way, setting base path by hand<a aria-label="Anchor link for: hard-way-setting-base-path-by-hand" title="Anchor link for: hard-way-setting-base-path-by-hand" class=header-anchor href=#hard-way-setting-base-path-by-hand> <span aria-hidden=true class=sr-only>#</span></a></h2><p>If you want to keep browser history implementation, you'll need to change few things. First, we need to update our routes to include full absolute path to the subfolder.<h3 id=using-react-router-s-basename>Using React Router's <code>basename</code><a aria-label="Anchor link for: using-react-router-s-basename" title="Anchor link for: using-react-router-s-basename" class=header-anchor href=#using-react-router-s-basename> <span aria-hidden=true class=sr-only>#</span></a></h3><p>As Davis Cabral pointed out in the comments, instead of manually adding <code>publicPath</code> to all routes, it can be achieved by using React Router's <a href=https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/docs/api/BrowserRouter.md#basename-string>basename</a> prop.<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#c678dd;>import </span><span>{ </span><span style=color:#e06c75;>BrowserRouter</span><span>, </span><span style=color:#e06c75;>Route </span><span>} </span><span style=color:#c678dd;>from </span><span style=color:#98c379;>'react-router-dom'</span><span>;
</span><span>
</span><span style=color:#5c6370;>// Then in render
</span><span style=color:#c678dd;><</span><span style=color:#e06c75;>BrowserRouter basename</span><span style=color:#c678dd;>=</span><span style=color:#98c379;>'/path/to/subfolder/'</span><span style=color:#c678dd;>>
</span><span>  </span><span style=color:#c678dd;><</span><span style=color:#e06c75;>Route path</span><span style=color:#c678dd;>=</span><span style=color:#98c379;>'/' </span><span style=color:#e06c75;>component</span><span style=color:#c678dd;>=</span><span>{ </span><span style=color:#e06c75;>Home </span><span>} </span><span style=color:#e06c75;>exact </span><span style=color:#c678dd;>/>
</span><span>  </span><span style=color:#c678dd;><</span><span style=color:#e06c75;>Route path</span><span style=color:#c678dd;>=</span><span style=color:#98c379;>'/about' </span><span style=color:#e06c75;>component</span><span style=color:#c678dd;>=</span><span>{ </span><span style=color:#e06c75;>About </span><span>} </span><span style=color:#e06c75;>exact </span><span style=color:#c678dd;>/>
</span><span>  {</span><span style=color:#5c6370;>/*...*/</span><span>}
</span><span style=color:#c678dd;>&LT/</span><span style=color:#e06c75;>BrowserRouter</span><span style=color:#c678dd;>>
</span></code></pre><h3 id=doing-it-by-the-hand>Doing it by the hand<a aria-label="Anchor link for: doing-it-by-the-hand" title="Anchor link for: doing-it-by-the-hand" class=header-anchor href=#doing-it-by-the-hand> <span aria-hidden=true class=sr-only>#</span></a></h3><p>I define my routes something like this:<pre class=language-tsx data-lang=tsx style=background-color:#282c34;color:#dcdfe4;><code class=language-tsx data-lang=tsx><span style=color:#c678dd;>const </span><span style=color:#e06c75;>publicPath </span><span style=color:#c678dd;>= </span><span style=color:#98c379;>'/path/to/subfolder/'</span><span>;
</span><span>
</span><span style=color:#c678dd;>export const </span><span style=color:#e06c75;>routeCodes </span><span style=color:#c678dd;>= </span><span>{
</span><span>  HOME: </span><span style=color:#e06c75;>publicPath</span><span>,
</span><span>  SEARCH: </span><span style=color:#98c379;>`${ </span><span style=color:#e06c75;>publicPath </span><span style=color:#98c379;>}search`</span><span>,
</span><span>  ABOUT: </span><span style=color:#98c379;>`${ </span><span style=color:#e06c75;>publicPath </span><span style=color:#98c379;>}about`</span><span>,
</span><span>};
</span><span>
</span><span style=color:#5c6370;>// Then you can use them like this
</span><span style=color:#5c6370;>// &LTRoute exact path={ routeCodes.ABOUT } component={ About } />
</span></code></pre><h3 id=setting-up-htaccess-file>Setting up <code>.htaccess</code> file<a aria-label="Anchor link for: setting-up-htaccess-file" title="Anchor link for: setting-up-htaccess-file" class=header-anchor href=#setting-up-htaccess-file> <span aria-hidden=true class=sr-only>#</span></a></h3><p>Once uplodaded to the server any route (but root <code>/</code>) will return 404 error. For example, if you try to open <code>http://yourserver.com/path/to/subfolder/about</code>, server will look for file (or folder) named <code>about</code> in the app subfolder. As it doesn't exist, it will fail with 404.<p>You'll need to add a simple <code>.htaccess</code> file, in order to tell the server to fallback to our <code>index.html</code> file. This is the same configuration we would use if the application was on the server root, just with a different absolute path to our index file.<pre style=background-color:#282c34;color:#dcdfe4;><code><span>RewriteEngine On
</span><span>RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f [OR]
</span><span>RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -d
</span><span>RewriteRule ^ - [L]
</span><span>
</span><span># Fallback all other routes to index.html
</span><span>RewriteRule ^ /path/to/subfolder/index.html [L]
</span></code></pre><p>Now our example routes will look like this<ul><li><code>http://yourserver.com/path/to/subfolder/</code><li><code>http://yourserver.com/path/to/subfolder/about</code><li><code>http://yourserver.com/path/to/subfolder/search</code></ul><h3 id=notice-about-webpack-s-output-publicpath-configuration>Notice about webpack's <code>output -> publicPath</code> configuration<a aria-label="Anchor link for: notice-about-webpack-s-output-publicpath-configuration" title="Anchor link for: notice-about-webpack-s-output-publicpath-configuration" class=header-anchor href=#notice-about-webpack-s-output-publicpath-configuration> <span aria-hidden=true class=sr-only>#</span></a></h3><p>If you are using <code>publicPath</code> in webpack's <code>output</code> object, make sure you either remove it or update to match your server build path. Removing it is easier, as it will create relative links, which should work with your new configuration.<pre class=language-tsx data-lang=tsx style=background-color:#282c34;color:#dcdfe4;><code class=language-tsx data-lang=tsx><span>output: {
</span><span>  publicPath: </span><span style=color:#98c379;>'/'</span><span>, </span><span style=color:#5c6370;>// Remove, or update it
</span><span>  path: </span><span style=color:#98c379;>'./build'</span><span>,
</span><span>  filename: </span><span style=color:#98c379;>'app-[hash].js'</span><span>,
</span><span>},
</span></code></pre><h2 id=create-react-app>Create React App<a aria-label="Anchor link for: create-react-app" title="Anchor link for: create-react-app" class=header-anchor href=#create-react-app> <span aria-hidden=true class=sr-only>#</span></a></h2><p>A lot of people are using Create React App. To deploy it in subfolder, you can set <code>homepage</code> in your <code>package.json</code>, for more details <a href=https://create-react-app.dev/docs/deployment#building-for-relative-paths>check their documentation</a><hr><p>I'm also interested if anyone has different/better ideas, cheers!</div><svg viewbox="0 0 609 242" aria-hidden=true class=keyboard-svg xmlns=http://www.w3.org/2000/svg> <g fill=#FFFFFF fill-rule=evenodd stroke=none stroke-width=1> <rect class=key height=37 id=key--q rx=6 width=36 x=52 y=70></rect> <rect class=key height=37 id=key--w rx=6 width=36 x=95 y=70></rect> <rect class=key height=37 id=key--e rx=6 width=36 x=138 y=70></rect> <rect class=key height=37 id=key--r rx=6 width=36 x=182 y=70></rect> <rect class=key height=37 id=key--t rx=6 width=36 x=225 y=70></rect> <rect class=key height=37 id=key--y rx=6 width=36 x=269 y=70></rect> <rect class=key height=37 id=key--u rx=6 width=36 x=312 y=70></rect> <rect class=key height=37 id=key--i rx=6 width=36 x=356 y=70></rect> <rect class=key height=37 id=key--o rx=6 width=36 x=399 y=70></rect> <rect class=key height=37 id=key--p rx=6 width=36 x=442 y=70></rect> <rect class=key height=37 id=key--squareBracketLeft rx=6 width=36 x=486 y=70></rect> <rect class=key height=37 id=key--squareBracketRight rx=6 width=36 x=529 y=70></rect> <rect class=key height=37 id=key--backslash rx=6 width=36 x=573 y=70></rect> <rect class=key height=37 id=key--tilde rx=6 width=36 x=1 y=25></rect> <rect class=key height=37 id=key--1 rx=6 width=36 x=44 y=25></rect> <rect class=key height=37 id=key--2 rx=6 width=36 x=88 y=25></rect> <rect class=key height=37 id=key--3 rx=6 width=36 x=131 y=25></rect> <rect class=key height=37 id=key--4 rx=6 width=36 x=175 y=25></rect> <rect class=key height=37 id=key--5 rx=6 width=36 x=218 y=25></rect> <rect class=key height=37 id=key--6 rx=6 width=36 x=262 y=25></rect> <rect class=key height=37 id=key--7 rx=6 width=36 x=305 y=25></rect> <rect class=key height=37 id=key--8 rx=6 width=36 x=348 y=25></rect> <rect class=key height=37 id=key--9 rx=6 width=36 x=392 y=25></rect> <rect class=key height=37 id=key--0 rx=6 width=36 x=435 y=25></rect> <rect class=key height=37 id=key--minus rx=6 width=36 x=479 y=25></rect> <rect class=key height=37 id=key--equals rx=6 width=36 x=522 y=25></rect> <rect class=key height=18 id=key--esc rx=6 width=37 x=1 y=0></rect> <rect class=key height=18 id=key--f1 rx=6 width=37 x=45 y=0></rect> <rect class=key height=18 id=key--f2 rx=6 width=37 x=89 y=0></rect> <rect class=key height=18 id=key--f3 rx=6 width=37 x=133 y=0></rect> <rect class=key height=18 id=key--f4 rx=6 width=37 x=176 y=0></rect> <rect class=key height=18 id=key--f5 rx=6 width=37 x=221 y=0></rect> <rect class=key height=18 id=key--f6 rx=6 width=37 x=264 y=0></rect> <rect class=key height=18 id=key--f7 rx=6 width=37 x=308 y=0></rect> <rect class=key height=18 id=key--f8 rx=6 width=37 x=352 y=0></rect> <rect class=key height=18 id=key--f9 rx=6 width=37 x=396 y=0></rect> <rect class=key height=18 id=key--f10 rx=6 width=37 x=440 y=0></rect> <rect class=key height=18 id=key--f11 rx=6 width=37 x=484 y=0></rect> <rect class=key height=18 id=key--f12 rx=6 width=37 x=528 y=0></rect> <rect class=key height=18 id=key--power rx=6 width=37 x=572 y=0></rect> <rect class=key height=37 id=key--delete rx=6 width=43 x=566 y=25></rect> <rect class=key height=37 id=key--a rx=6 width=36 x=65 y=114></rect> <rect class=key height=37 id=key--s rx=6 width=36 x=109 y=114></rect> <rect class=key height=37 id=key--d rx=6 width=36 x=152 y=114></rect> <rect class=key height=37 id=key--f rx=6 width=36 x=195 y=114></rect> <rect class=key height=37 id=key--g rx=6 width=36 x=239 y=114></rect> <rect class=key height=37 id=key--h rx=6 width=36 x=282 y=114></rect> <rect class=key height=37 id=key--j rx=6 width=36 x=326 y=114></rect> <rect class=key height=37 id=key--k rx=6 width=36 x=369 y=114></rect> <rect class=key height=37 id=key--l rx=6 width=36 x=413 y=114></rect> <rect class=key height=37 id=key--semicolon rx=6 width=36 x=456 y=114></rect> <rect class=key height=37 id=key--apostrophe rx=6 width=36 x=500 y=114></rect> <rect class=key height=37 id=key--z rx=6 width=36 x=88 y=158></rect> <rect class=key height=37 id=key--x rx=6 width=36 x=131 y=158></rect> <rect class=key height=37 id=key--c rx=6 width=36 x=175 y=158></rect> <rect class=key height=37 id=key--v rx=6 width=36 x=218 y=158></rect> <rect class=key height=37 id=key--b rx=6 width=36 x=262 y=158></rect> <rect class=key height=37 id=key--n rx=6 width=36 x=305 y=158></rect> <rect class=key height=37 id=key--m rx=6 width=36 x=348 y=158></rect> <rect class=key height=37 id=key--comma rx=6 width=36 x=392 y=158></rect> <rect class=key height=37 id=key--dot rx=6 width=36 x=435 y=158></rect> <rect class=key height=37 id=key--slash rx=6 width=36 x=479 y=158></rect> <rect class=key height=37 id=key--fn rx=6 width=33 x=0 y=203></rect> <rect class=key height=37 id=key--controlLeft rx=6 width=33 x=41 y=203></rect> <rect class=key height=37 id=key--altLeft rx=6 width=33 x=81 y=203></rect> <rect class=key height=37 id=key--altRight rx=6 width=33 x=444 y=203></rect> <rect class=key height=19 id=key--arrowLeft rx=6 width=37 x=485 y=221></rect> <g transform="translate(529.000000, 203.000000)" class=key id=key--arrowUp> <path d="M37,11.5 L37,6 C37,2.6862915 34.3137085,-6.08718376e-16 31,0 L6,0 L6,0 C2.6862915,6.08718376e-16 -4.05812251e-16,2.6862915 0,6 L0,6 L0,11.5 L0,19 L37,19 L37,11.5 Z"></path> </g> <g transform="translate(529.000000, 222.000000)" class=key id=key--arrowDown> <path d="M37,7.5 L37,13 C37,16.3137085 34.3137085,19 31,19 L6,19 C2.6862915,19 4.05812251e-16,16.3137085 0,13 L0,7.5 L0,0 L37,0 L37,7.5 Z"></path> </g> <rect class=key height=19 id=key--arrowRight rx=6 width=36 x=573 y=221></rect> <rect class=key height=37 id=key--enter rx=6 width=66 x=543 y=114></rect> <rect class=key height=37 id=key--cmdLeft rx=6 width=45 x=122 y=203></rect> <rect class=key height=37 id=key--cmdRight rx=6 width=45 x=392 y=203></rect> <rect class=key height=37 id=key--shiftRight rx=6 width=87 x=522 y=158></rect> <rect class=key height=37 id=key--tab rx=6 width=44 x=0 y=70></rect> <rect class=key height=37 id=key--capsLock rx=6 width=57 x=0 y=114></rect> <rect class=key height=37 id=key--shiftLeft rx=6 width=80 x=0 y=158></rect> <rect class=key height=37 id=key--space rx=6 width=210 x=175 y=203></rect> </g> </svg><div class=sharing><div class=h4>Share on:</div><div class=sharing__buttons><a class="sharing__button sharing__button--hn" href="http://news.ycombinator.com/submitlink?u=https%3A//muffinman.io/blog/react-router-subfolder-on-server/&t=Deploying%20React%20%28Router%29%20app%20to%20the%20subfolder%20on%20server" title="Share post on Hacker News" rel=nofollow target=_blank> <svg viewbox="0 0 106 137" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M44.374 82.746.433.432h20.081l25.848 52.092c.398.928.862 1.889 1.392 2.883.53.994.994 2.022 1.391 3.082.266.398.464.762.597 1.094.133.33.265.63.398.894a65.643 65.643 0 0 1 1.79 3.877c.53 1.26.993 2.42 1.39 3.48a601.604 601.604 0 0 1 3.48-7.257c1.26-2.585 2.552-5.27 3.877-8.053L86.923.432h18.69L61.273 83.74v53.087h-16.9V82.746h.001Z"/> </svg> </a><a class="sharing__button sharing__button--twitter" href="http://twitter.com/share?text=Deploying%20React%20%28Router%29%20app%20to%20the%20subfolder%20on%20server&url=https%3A//muffinman.io/blog/react-router-subfolder-on-server/" title="Share post on Twitter" rel=nofollow target=_blank> <svg viewbox="0 0 24 24" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M23.444 4.834c-.814.363-1.5.375-2.228.016.938-.562.981-.957 1.32-2.019-.878.521-1.851.9-2.886 1.104a4.545 4.545 0 0 0-7.742 4.145 12.897 12.897 0 0 1-9.366-4.748 4.525 4.525 0 0 0-.615 2.285c0 1.577.803 2.967 2.021 3.782a4.527 4.527 0 0 1-2.057-.568l-.001.057a4.547 4.547 0 0 0 3.646 4.456 4.575 4.575 0 0 1-2.053.079 4.551 4.551 0 0 0 4.245 3.155A9.138 9.138 0 0 1 1 18.459 12.865 12.865 0 0 0 7.966 20.5c8.358 0 12.928-6.924 12.928-12.929 0-.198-.003-.393-.012-.588.887-.64 1.953-1.237 2.562-2.149z"/> </svg> </a><a class="sharing__button sharing__button--reddit" href="http://www.reddit.com/submit?url=https%3A//muffinman.io/blog/react-router-subfolder-on-server/&title=Deploying%20React%20%28Router%29%20app%20to%20the%20subfolder%20on%20server" title="Share post on reddit" rel=nofollow target=_blank> <svg viewbox="0 0 24 24" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M2.204 14.049c-.06.276-.091.56-.091.847 0 3.443 4.402 6.249 9.814 6.249 5.41 0 9.812-2.804 9.812-6.249 0-.274-.029-.546-.082-.809l-.015-.032a.456.456 0 0 1-.029-.165c-.302-1.175-1.117-2.241-2.296-3.103a.422.422 0 0 1-.126-.07c-.026-.02-.045-.042-.067-.064-1.792-1.234-4.356-2.008-7.196-2.008-2.815 0-5.354.759-7.146 1.971a.397.397 0 0 1-.179.124c-1.206.862-2.042 1.937-2.354 3.123a.454.454 0 0 1-.037.171l-.008.015zm9.773 5.441c-1.794 0-3.057-.389-3.863-1.197a.45.45 0 0 1 0-.632.47.47 0 0 1 .635 0c.63.629 1.685.943 3.228.943 1.542 0 2.591-.3 3.219-.929a.463.463 0 0 1 .629 0 .482.482 0 0 1 0 .645c-.809.808-2.065 1.198-3.862 1.198l.014-.028zm-3.606-7.573c-.914 0-1.677.765-1.677 1.677 0 .91.763 1.65 1.677 1.65s1.651-.74 1.651-1.65c0-.912-.739-1.677-1.651-1.677zm7.233 0c-.914 0-1.678.765-1.678 1.677 0 .91.764 1.65 1.678 1.65s1.651-.74 1.651-1.65c0-.912-.739-1.677-1.651-1.677zm4.548-1.595c1.037.833 1.8 1.821 2.189 2.904a1.818 1.818 0 0 0-2.189-2.902v-.002zM2.711 9.963a1.82 1.82 0 0 0-1.173 3.207c.401-1.079 1.172-2.053 2.213-2.876a1.82 1.82 0 0 0-1.039-.329v-.002zm9.217 12.079c-5.906 0-10.709-3.205-10.709-7.142 0-.275.023-.544.068-.809A2.723 2.723 0 0 1 0 11.777a2.725 2.725 0 0 1 2.725-2.713 2.7 2.7 0 0 1 1.797.682c1.856-1.191 4.357-1.941 7.112-1.992l1.812-5.524.404.095s.016 0 .016.002l4.223.993a2.237 2.237 0 0 1 4.296.874c0 1.232-1.003 2.234-2.231 2.234s-2.23-1.004-2.23-2.23l-3.851-.912-1.467 4.477c2.65.105 5.047.854 6.844 2.021a2.663 2.663 0 0 1 1.833-.719 2.716 2.716 0 0 1 2.718 2.711c0 .987-.54 1.886-1.378 2.365.029.255.059.494.059.749-.015 3.938-4.806 7.143-10.72 7.143l-.034.009zm8.179-19.187a1.339 1.339 0 1 0 0 2.678c.732 0 1.33-.6 1.33-1.334 0-.733-.598-1.332-1.347-1.332l.017-.012z"/> </svg> </a></div></div></div><div class=post__bottom><div class=container><div class=related-posts><h2 class="h3 related-posts__title">Related Posts</h2><a class=related-posts__post href=https://muffinman.io/blog/react-simple-video-buffering-loader/> <div class=related-posts__post-title>Simple video buffering loader in React<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>16. October 2020</div> </a><a class=related-posts__post href=https://muffinman.io/blog/react-router-v4-redirect-decorator/> <div class=related-posts__post-title>React Router v4 redirect decorator<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>29. January 2018</div> </a><a class=related-posts__post href=https://muffinman.io/blog/react-ratio-component/> <div class=related-posts__post-title>React ratio<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>23. January 2018</div> </a></div><div class=comments><h2 class="h3 comments__title" id=comments>Comments (29)</h2><div><div class=comment id=comment-c16af170-d111-11e7-997a-9951f42f680c><div class=comment__top><img src="https://www.gravatar.com/avatar/383b6d6a73ed80c760a8b4249e1e9b6e?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">And</div><div class=comment__date>24. Nov 2017, 12:19</div></div></div><div class=comment__message><p>Thanks!</div></div><div class=comment id=comment-8a983190-1643-11e8-b1fd-f167a257a673><div class=comment__top><img src="https://www.gravatar.com/avatar/fab3e7160014f8a2cf2af8dfea52734b?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Wilfried</div><div class=comment__date>20. Feb 2018, 13:39</div></div></div><div class=comment__message><p>Thank you, helped me to solve my routing problem on sub folders.</div></div><div class=comment id=comment-e59ecee0-1e05-11e8-9b51-911143b9faa2><div class=comment__top><img src="https://www.gravatar.com/avatar/ed5407f407cab6c30f73a2120897c826?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Biswajit</div><div class=comment__date>02. Mar 2018, 10:38</div></div></div><div class=comment__message><p>Can you please tell me how I will add .htaccess file, if I am deploying into IIS server.My app is in sub folder.<p>I donot have access to iis server. I will do deploy using jenkins.<p>I will appreciate your help.</div></div><div class=comment id=comment-e1a18bf0-1e39-11e8-9b51-911143b9faa2><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>02. Mar 2018, 16:50</div></div></div><div class=comment__message><p>Hello @Biswajit,<p>Unfortunately, I can't help you with that as I have no experience with IIS, but a quick search provided me with <a href=https://docs.microsoft.com/en-us/iis/application-frameworks/install-and-configure-php-applications-on-iis/translate-htaccess-content-to-iis-webconfig>Translate .htaccess Content to IIS web.config</a>. Hopefully that will help you.<p>Cheers!</div></div><div class=comment id=comment-98802c50-2105-11e8-a8e6-21d639924f09><div class=comment__top><img src="https://www.gravatar.com/avatar/ed5407f407cab6c30f73a2120897c826?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Biswajit</div><div class=comment__date>06. Mar 2018, 06:14</div></div></div><div class=comment__message><p>I solved this problem by using <code>HashRouthing</code> instead of <code>BrowserRouting</code>. Just I want to know what will be the wrong of using it.</div></div><div class=comment id=comment-0129ff40-212b-11e8-aa9c-dfa80684aaf4><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>06. Mar 2018, 10:42</div></div></div><div class=comment__message><p>As I mentioned in the article already, the biggest drawback is that you'll have <code>/#/</code> in your URLs.</div></div><div class=comment id=comment-b581efe0-2eda-11e8-9e1a-170dcccd3685><div class=comment__top><img src="https://www.gravatar.com/avatar/8fdec6fbaee7217ed882221f23f5e3ee?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Davis Cabral</div><div class=comment__date>23. Mar 2018, 20:42</div></div></div><div class=comment__message><p>You can use the <code>Router</code> prop <code>basename</code> for this.<pre>&LTRouter basename={ '/subdir' } history={ history }>
&LT/Router></pre></div></div><div class=comment id=comment-000d9af0-3e44-11e8-851c-412bcd45ac86><div class=comment__top><img src="https://www.gravatar.com/avatar/182c54211eb101ff0e166ca8163ad1f2?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Mikkel</div><div class=comment__date>12. Apr 2018, 11:24</div></div></div><div class=comment__message><p>Where are you storing the .htaccess file?</div></div><div class=comment id=comment-dc857210-3e57-11e8-851c-412bcd45ac86><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>12. Apr 2018, 13:46</div></div></div><div class=comment__message><p>Hey @Mikkel, <code>.htaccess</code> should be at the root of your project (where your <code>index.html</code> is).<p>@Davis, that is pretty neat, I missed that prop, thanks!</div></div><div class=comment id=comment-9a21cdf0-54c4-11e8-9916-fb9692b847cd><div class=comment__top><img src="https://www.gravatar.com/avatar/0e5b2e8c1f687d8aee6c451283e048e9?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">TheKid_||_</div><div class=comment__date>11. May 2018, 02:40</div></div></div><div class=comment__message><p>@Davis is the best solutions ;D</div></div></div><button class="btn btn--empty comments__show-all">Show all comments</button><div class=comments__all><div class=comment id=comment-4c1187e0-81d3-11e8-ad81-0bb488426aeb><div class=comment__top><img src="https://www.gravatar.com/avatar/aff5b420d655fda397cfae110a89533a?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Ram</div><div class=comment__date>07. Jul 2018, 10:48</div></div></div><div class=comment__message><p>@Stanko:<p>Instead of this snippet,<pre>&LTBrowserRouter basename='/path/to/subfolder/'></pre><p>can't we use this one ?<pre>&LTBrowserRouter basename={location.pathname}></pre><p>This make the path configurable and this will work even if the path of subfolder changes, what do you feel about this?</div></div><div class=comment id=comment-3fbb7e50-8373-11e8-8124-dd9eaf87752c><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>09. Jul 2018, 12:26</div></div></div><div class=comment__message><p>Hello Ram,<p>That won't work as <code>location.pathname</code> is dynamic property. For example it will be <code>/</code> on your home page, but something like <code>/users/view/1</code> on user profile. Then all of your links would be relative to <code>/users/view/1</code> instead of <code>/</code>.<p>Cheers!</div></div><div class=comment id=comment-519f73d0-b1ed-11e8-afd3-cbef5b601756><div class=comment__top><img src="https://www.gravatar.com/avatar/8254067d595a32ccb9ac4f6bf28d05d0?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Eugene</div><div class=comment__date>06. Sep 2018, 15:55</div></div></div><div class=comment__message><p>Thanks Stanko, you're a legend!<p>Was looking for a solution for the past couple of hours and this worked like magic.</div></div><div class=comment id=comment-c036a240-c2e7-11e8-a294-87a5b06467a6><div class=comment__top><img src="https://www.gravatar.com/avatar/8e13b320e95cce8ef2d914b8b4ebac89?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Tin Htun</div><div class=comment__date>28. Sep 2018, 06:28</div></div></div><div class=comment__message><p>Thanks a lot! You save my day.</div></div><div class=comment id=comment-b7e19520-1df8-11e9-9626-8b855f940cb5><div class=comment__top><img src="https://www.gravatar.com/avatar/07f8942910b304b59c872e53205e49c8?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Salitha</div><div class=comment__date>22. Jan 2019, 03:49</div></div></div><div class=comment__message><p>This works fine! You saved my day.. Thanx a lot :D</div></div><div class=comment id=comment-9163bab0-3f70-11e9-bf1e-1f0cfd7e6c9f><div class=comment__top><img src="https://www.gravatar.com/avatar/3258dfc753bce47935a93a591701f6f0?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Keyra</div><div class=comment__date>05. Mar 2019, 18:00</div></div></div><div class=comment__message><p>Thanks for this useful post! I have a question, what if I don't want to have # in my URLs, but I don't know the path on coding / compilation time? I need to have a package, that then can be deployed at any server (root, subfolder, whatever)</div></div><div class=comment id=comment-2a1d2d30-3f8b-11e9-bf1e-1f0cfd7e6c9f><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>05. Mar 2019, 21:10</div></div></div><div class=comment__message><p>Hello Keyra,<p>I can't think of a way to do it dynamically in a library, without using hash routing. If you figure out a way, please share the solution.<p>Cheers!</div></div><div class=comment id=comment-48df78e0-49a4-11e9-9070-0d8466e89d64><div class=comment__top><img src="https://www.gravatar.com/avatar/74015114ab8ca79c2b5b00827600f8c4?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Robert</div><div class=comment__date>18. Mar 2019, 17:35</div></div></div><div class=comment__message><p>Hi, thanks for the write up, I just wanted to add that you can use<pre>&LTRouter basename={ process.env.PUBLIC_URL }></pre><p>then add<pre>"homepage": "your url plus sub-directory"</pre><p>to "package.json", and you should be good to go</div></div><div class=comment id=comment-b22fa2f0-50e5-11e9-acaf-ff07519d12ff><div class=comment__top><img src="https://www.gravatar.com/avatar/a896c824da20b1a1a6f520843346aa4c?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Charlie</div><div class=comment__date>27. Mar 2019, 23:11</div></div></div><div class=comment__message><p>@Robert<p>Thanks for you comment man! I've been searching around how to work the build react app on IIS. Im using connected react router and i set my homepage from what you've said there, setting the basename for history<pre>history = createBrowserHistory({basename: `${process.env.PUBLIC_URL}`
}) </pre><p>and voila! when the page refreshed, the 404 error page was gone. Thanks again!</div></div><div class=comment id=comment-617f8ba0-575b-11e9-8b54-315bf370ae21><div class=comment__top><img src="https://www.gravatar.com/avatar/5a416c13b2a788e31bf2246e0f553bd7?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Shubham Kesarwani</div><div class=comment__date>05. Apr 2019, 04:29</div></div></div><div class=comment__message><p>In my case there are two projects in two different subdirectories. and based on request i want to redirect to that particular project.<p>For e.g. www.test.com/us should go to project residing in 'us' directory and same should happen with www.test.com/in<p>RewriteRule ^ /path/to/subfolder/index.html [L] How can I get subfolder dynamically from url.<p>Please help</div></div><div class=comment id=comment-eebdaff0-8dd5-11e9-8faf-d77b8ea6a678><div class=comment__top><img src="https://www.gravatar.com/avatar/7b13e39038022e38d5394dcd7a20213c?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Amar</div><div class=comment__date>13. Jun 2019, 12:22</div></div></div><div class=comment__message><p>How to deal this concept with Create React App? As, I have doubt regarding setting Public path in webpack.</div></div><div class=comment id=comment-66d16c00-d400-11e9-985e-d7733b393af6><div class=comment__top><img src="https://www.gravatar.com/avatar/0d336ad885ca31a394e73a1f8db3774a?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Dave</div><div class=comment__date>10. Sep 2019, 19:23</div></div></div><div class=comment__message><p>Maybe this changed in a newer version of ReactRouter? I get: Failed to compile ./src/App.js Line 45: 'hashHistory' is not defined no-undef</div></div><div class=comment id=comment-26e14a40-d403-11e9-985e-d7733b393af6><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>10. Sep 2019, 19:42</div></div></div><div class=comment__message><p>That is correct Dave, I just updated the post.<p>Cheers!</div></div><div class=comment id=comment-fe44e6d0-2012-11ea-bffe-5d8553fd4a3a><div class=comment__top><img src="https://www.gravatar.com/avatar/766a8b6025ce7c94d48af02473cf98b4?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Catarina</div><div class=comment__date>16. Dec 2019, 14:47</div></div></div><div class=comment__message><p>Hi! It helps me in some things but I still can't use routes. I got error 404. I'm using create-react-app and the project is hosted on iis Someone can help?</div></div><div class=comment id=comment-c90ad820-2013-11ea-bffe-5d8553fd4a3a><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>16. Dec 2019, 14:53</div></div></div><div class=comment__message><p>Hi Catarina,<p>I guess you haven't used hash routing. That means you still need to setup proper server redirections. If you are using appache, you should check <a href=#setting-up-htaccess-file>Setting up .htaccess file</a> section in this post.<p>Cheers!</div></div><div class=comment id=comment-b5275950-20d1-11ea-9e3e-eb34d503ab71><div class=comment__top><img src="https://www.gravatar.com/avatar/405aecf62e26351682349c4ec22be6f4?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Ali Lishan</div><div class=comment__date>17. Dec 2019, 13:32</div></div></div><div class=comment__message><p>GREAT!!!!! I cannot thank you enough ... i have been searching high and low. And you updated the post ! .. You my man .. are a Legend!</div></div><div class=comment id=comment-5dcf1da0-4e7b-11ea-9bef-351b089ee6de><div class=comment__top><img src="https://www.gravatar.com/avatar/d41198515ad2aafefd4875dede3691b7?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Judy</div><div class=comment__date>13. Feb 2020, 16:10</div></div></div><div class=comment__message><p>Great article. This solves my bookmark URL issue without adding a web.config file.</div></div><div class=comment id=comment-a3a31540-7557-11ea-8070-3f71c3436bcb><div class=comment__top><img src="https://www.gravatar.com/avatar/98156ca4d9d9229a2c967005966e8903?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">greatghoul</div><div class=comment__date>03. Apr 2020, 03:03</div></div></div><div class=comment__message><p>Great, you saved my life!</div></div><div class=comment id=comment-0a6e2900-952d-11ea-ac11-79b76897bcb2><div class=comment__top><img src="https://www.gravatar.com/avatar/32964ae64ba9a8a30ea0b8e6a76bc6ec?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Andrei</div><div class=comment__date>13. May 2020, 15:18</div></div></div><div class=comment__message><p>Thank you! Very helpful!</div></div></div></div></div></div></section><footer class=footer><div class="container footer__content"><a class=footer__rss-link href=/atom.xml target=_blank> <svg viewbox="0 0 8 8" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <g fill=currentColor transform=matrix(1.3329835,0,0,1.3333333,-0.12812669,-2.6739007)> <ellipse cx=0.88595736 cy=7.2168303 rx=0.78983712 ry=0.78859526 /> <path d="m 0.09769498,5.0054256 a 3,3 0 0 1 3.00000002,3 h 1 a 4,4 0 0 0 -4.00000002,-4 z"/> <path d="m 0.09769498,3.0054256 a 5,5 0 0 1 5.00000002,5 h 1 a 6,6 0 0 0 -6.00000002,-6 z"/> </g> </svg> RSS Feed </a><div class=footer__text><a aria-label=Home class=footer__logo-link href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><p>© 2016-2022. All rights reserved.<p>Written with ♡ by Stanko Tadić. Made in Serbia.</div><nav class="nav nav--footer"><a class=nav__item href=/>Home</a><span aria-hidden=true>/</span><a class="nav__item nav__item--with-icon" href=/art/> Art </a><span aria-hidden=true>/</span><a class=nav__item href=/archive/> Blog </a><span aria-hidden=true>/</span><a class=nav__item href=/about/> About </a><span aria-hidden=true>/</span><button class="nav__item nav__item--with-icon" data-micromodal-trigger=modal-menu>Search <svg viewbox="0 0 20 32" aria-hidden=true class=nav__search-icon height=16 width=10 xmlns=http://www.w3.org/2000/svg> <g fill=none stroke=currentColor stroke-linecap=round stroke-width=3> <circle cx=10 cy=10 r=10 /> <path d="M 10 20 L 10 32"/> </g> </svg></button></nav></div></footer></div><div aria-hidden=true class=modal id=modal-menu><div class=modal__overlay><div><div aria-hidden=true class=modal__shadow></div><div aria-labelledby=modal-menu-title aria-modal=true class=modal__container role=dialog><main class=modal__content id=modal-menu-content><h2 class=sr-only id=modal-menu-title>Menu and search</h2><div class=menu><div class=container><a aria-label=Home class=menu__logo href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><button aria-label=Close class=menu__close data-micromodal-close><span></span> <span></span></button></div></div><div class=modal__top><div class=container><label class=sr-only for=search>Search</label><input autocomplete=off class=search__input id=search placeholder=Search></div></div><div class=modal__bottom><div class=container><div class=modal-nav><a class=h1 href=/art/> Art </a><a class=h1 href=/archive/> Blog </a><a class=h1 href=/about/> About </a><a class=h1 href=/atom.xml target=_blank> RSS Feed </a><a class=h1 href=https://github.com/stanko/ rel=noopener target=_blank> GitHub </a></div></div><div class=search__results></div><main><div></div><div></div><script src=/js/search-data.js></script><script src=/js/app.js></script><script>if (window.location.hostname !== 'localhost' && window.location.hostname !== 'motorhead.local' && window.location.hostname !== '0.0.0.0') {
      (function() {
        window.counter = 'https://muffinman_io.goatcounter.com/count';
        var script = document.createElement('script');
        script.async = 1;
        script.src = '//gc.zgo.at/count.js';
        var ins = document.getElementsByTagName('script')[0];
        ins.parentNode.insertBefore(script, ins);
      })();
    }</script>