<!doctype html><html class=blue lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Three.js extrude SVG path · Muffin Man</title><meta content="These days I'm playing with three.js again. I'm not an expert but I enjoy playing with graphics.
Conveniently, a friend of mine sent me this Dribble, …" name=description><meta content="Muffin Man" property=og:site_name><meta content="Three.js extrude SVG path" property=og:title><meta content="These days I'm playing with three.js again. I'm not an expert but I enjoy playing with graphics.
Conveniently, a friend of mine sent me this Dribble, …" property=og:description><meta content=https://muffinman.io/blog/three-js-extrude-svg-path/ property=og:url><meta content="Three.js extrude SVG path" name=twitter:title><meta content="These days I'm playing with three.js again. I'm not an expert but I enjoy playing with graphics.
Conveniently, a friend of mine sent me this Dribble, …" name=twitter:description><meta content=https://muffinman.io/img/extrude-svg/final.png property=twitter:image><meta content=https://muffinman.io/img/extrude-svg/final.png property=og:image><link href=/favicon/blue/icon-32.ico rel=icon sizes=any><link href=/favicon/blue/icon.svg rel=icon type=image/svg+xml><link href=/favicon/blue/icon-180.png rel=apple-touch-icon><link href=/favicon/blue/manifest.webmanifest rel=manifest><link href=/style.css rel=stylesheet><link href=/atom.xml rel=alternate title=RSS type=application/rss+xml><script>var isSystemDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    var userSelected = localStorage.getItem('color-scheme');
    var scheme = 'light-scheme';
    if (userSelected) { scheme = userSelected } else if (isSystemDark) { scheme = 'dark-scheme'; }
    document.documentElement.classList.add(scheme);</script><body><div id=page><a class=jump-to-content href=#content>Jump to content</a><header class=menu><div class=container><a aria-label=Home class=menu__logo href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><button title="Switch color scheme" class=color-scheme-switcher><span aria-label="Switch to the dark color scheme" class=color-scheme-switcher__to-dark> <svg viewbox="0 0 20 20" aria-hidden=true height=20 width=20> <path d="M19 11.6424L19.982 11.8312C20.0687 11.3804 19.8373 10.9286 19.4211 10.7354C19.0048 10.5421 18.5104 10.6571 18.222 11.0142L19 11.6424ZM8.35755 1L8.98583 1.77799C9.34289 1.48963 9.45783 0.995241 9.26458 0.578948C9.07134 0.162655 8.61953 -0.068649 8.16882 0.0179715L8.35755 1ZM18.222 11.0142C17.0163 12.5071 15.1742 13.4591 13.109 13.4591V15.4591C15.804 15.4591 18.2089 14.2136 19.778 12.2707L18.222 11.0142ZM13.109 13.4591C9.48151 13.4591 6.54086 10.5185 6.54086 6.89102H4.54086C4.54086 11.6231 8.37694 15.4591 13.109 15.4591V13.4591ZM6.54086 6.89102C6.54086 4.8258 7.49287 2.98365 8.98583 1.77799L7.72927 0.222011C5.78634 1.79106 4.54086 4.19595 4.54086 6.89102H6.54086ZM2 9.91827C2 5.98059 4.81714 2.69872 8.54628 1.98203L8.16882 0.0179715C3.51562 0.912252 0 5.00362 0 9.91827H2ZM10.0817 18C5.61831 18 2 14.3817 2 9.91827H0C0 15.4863 4.51374 20 10.0817 20V18ZM18.018 11.4537C17.3013 15.1829 14.0194 18 10.0817 18V20C14.9964 20 19.0878 16.4844 19.982 11.8312L18.018 11.4537Z" fill=currentColor /> </svg> </span> <span aria-label="Switch to the light color scheme" class=color-scheme-switcher__to-light> <svg viewbox="0 0 26 26" aria-hidden=true height=26 width=26> <g fill=none stroke=currentColor stroke-linecap=round stroke-width=2> <circle cx=13 cy=13 r=5 /> <path d="M13 4V1.5"/> <path d="M13 24.5V22"/> <path d="M4 13H1.5"/> <path d="M24.5 13H22"/> <path d="M6.63604 6.63604L4.86827 4.86827"/> <path d="M21.1317 21.1317L19.364 19.364"/> <path d="M6.63604 19.364L4.86827 21.1317"/> <path d="M21.1317 4.86828L19.364 6.63605"/> </g> </svg> </span></button><nav class="nav nav--header"><a class="nav__item nav__item--with-icon" href=/art/> Art </a><span aria-hidden=true>/</span><a class=nav__item href=/archive/> Blog </a><span aria-hidden=true>/</span><a class=nav__item href=/about/> About </a><span aria-hidden=true>/</span><button class="nav__item nav__item--with-icon" data-micromodal-trigger=modal-menu>Search <svg viewbox="0 0 20 32" aria-hidden=true class=nav__search-icon height=16 width=10 xmlns=http://www.w3.org/2000/svg> <g fill=none stroke=currentColor stroke-linecap=round stroke-width=3> <circle cx=10 cy=10 r=10 /> <path d="M 10 20 L 10 32"/> </g> </svg></button></nav><button class="menu__toggle menu__toggle--static" aria-label=Menu data-micromodal-trigger=modal-menu><span></span> <span></span> <span></span></button></div><div class="menu__toggle-fixed-wrapper menu__toggle-fixed-wrapper--hidden"><button class="menu__toggle menu__toggle--fixed" aria-label=Menu data-micromodal-trigger=modal-menu tabindex=-1><span></span> <span></span> <span></span></button></div></header><div class=menu-stripe></div><section class=main id=content role=main tabindex=-1><div class=post__top><div class="container post__top-content"><h1 class=post__title>Three.js extrude SVG path</h1><div class=post__date>18. December 2019</div><div class=post__info><div>Posted in <a href=/archive/#javascript>JavaScript</a></div><span class=post__info-separator>·</span> 8 minutes read <div class=post__comments-link><a class=scroll-to href=#comments>4 Comments</a></div></div></div></div><div class="container post__container"><div class=content><p>These days I'm playing with <a href=https://threejs.org/>three.js</a> again. I'm not an expert but I enjoy playing with graphics.<p>Conveniently, a friend of mine sent me this <a href=https://dribbble.com/shots/8907229-Urban-Planners-Mobile-Animation>Dribble</a>, and I thought it would be a perfect exercise to try making it. I still haven't done it, but I did some exploration on how to built it.</p><span id=continue-reading></span><p>My plan was to draw the parallaxing layers as vectors, import it in three.js and use <code>ExtrudeGeometry</code> to give them a third dimension. To three.js ninjas this might be funny, but it took me some time.<p>I haven't found well documented way, plus there are a couple of gotchas. And that is the reason I want to share this process with you.<h2 id=before-we-start>Before we start<a aria-label="Anchor link for: before-we-start" title="Anchor link for: before-we-start" class=header-anchor href=#before-we-start> <span aria-hidden=true class=sr-only>#</span></a></h2><p>I'll assume you have a basic understanding of three.js, and how to setup a scene. If you are just starting with it, I recommend going through their excellent <a href=https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene>Getting Started</a> guide first.<p>If you just want to see the end result, feel free to jump to the <a href=https://muffinman.io/blog/three-js-extrude-svg-path/#code>code</a> or the <a href=https://muffinman.io/blog/three-js-extrude-svg-path/#live-demo>live demo</a>.<h2 id=svgloader>SVGLoader<a aria-label="Anchor link for: svgloader" title="Anchor link for: svgloader" class=header-anchor href=#svgloader> <span aria-hidden=true class=sr-only>#</span></a></h2><p>Three.js provides us with <a href=https://threejs.org/docs/#examples/en/loaders/SVGLoader>SVGLoader</a>, but it is not the part of the main library. It is an extra, you have to include yourself.<p>If you are using three.js script file directly, make sure you include <a href=https://github.com/mrdoob/three.js/blob/master/examples/js/loaders/SVGLoader.js>this file</a> as well.<p>However if you are using <code>npm</code> module, you can import it like this:<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#c678dd;>import </span><span>{ </span><span style=color:#e06c75;>SVGLoader </span><span>} </span><span style=color:#c678dd;>from </span><span style=color:#98c379;>"three/examples/jsm/loaders/SVGLoader"</span><span>;
</span></code></pre><p>Like it's name suggest this class loads SVG from an URL and parses it into three.js entries. If you already have SVG markup as a string, it is easy to parse it, but it is also easy to miss how to do it in the documentation.<p><code>SVGLoader</code> extends base <code>Loader</code> class, which contains <code>.parse()</code> method. That means we can do this:<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#5c6370;>// Get SVG's markup
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>svgMarkup </span><span style=color:#c678dd;>= </span><span>document.</span><span style=color:#61afef;>querySelector</span><span>(</span><span style=color:#98c379;>'svg'</span><span>).</span><span style=color:#e06c75;>outerHTML</span><span>;
</span><span>
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>loader </span><span style=color:#c678dd;>= new </span><span>THREE.SVGLoader();
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>svgData </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>loader</span><span>.</span><span style=color:#61afef;>parse</span><span>(</span><span style=color:#e06c75;>svgMarkup</span><span>);
</span></code></pre><p>Now when we know how to get SVG data to three.js, let's try to extrude it.<h2 id=extrude>Extrude<a aria-label="Anchor link for: extrude" title="Anchor link for: extrude" class=header-anchor href=#extrude> <span aria-hidden=true class=sr-only>#</span></a></h2><p>You'll need a SVG, I used my logo:</p><svg viewbox="0 0 202 202" class=image height=202px version=1.1 width=202px xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink> <path d="M201,1 L201,201 L1,201 L1,1 L201,1 Z M53.27053,71 L37.6666667,71 L37.6666667,134.333333 L53.27053,134.333333 L53.27053,86.6038647 C59.2367133,86.879227 66.1207733,91.1014493 66.1207733,99.9130433 L66.1207733,134.333333 L80.4396133,134.333333 L80.4396133,99.9130433 C80.4396133,91.1014493 87.32367,86.879227 93.2898567,86.6038647 L93.2898567,134.333333 L110.63768,134.333333 L110.63768,86.6038647 C116.603863,86.879227 123.487923,91.1014493 123.487923,99.9130433 L123.487923,134.333333 L137.806763,134.333333 L137.806763,99.9130433 C137.806763,91.1014493 144.69082,86.879227 150.657003,86.6038647 L150.657003,134.333333 L166.26087,134.333333 L166.26087,71 L150.657003,71 C142.120773,71 133.859903,75.589372 130.647343,80.178744 C127.434783,75.589372 119.173913,71 110.63768,71 L93.2898567,71 C84.7536233,71 76.4927533,75.589372 73.2801933,80.178744 C70.0676333,75.589372 61.8067633,71 53.27053,71 Z" fill=none stroke=#979797></path> </svg><p>To get to the shapes we can extrude, we need to parse the SVG. Get paths' data by calling <code>.paths()</code> method. It will return an array of <a href=https://threejs.org/docs/#api/en/extras/core/ShapePath>ShapePaths</a>. Each of these has <code>.toShapes(true)</code> method. Which will return another array, <span class=sidenote__trigger role=button tabindex=0> which in our case will always include only one item. </span> <span class=sidenote__note><span class=sidenote__bracket>(</span>If you set second parameter <code>noHoles</code> to <code>true</code> it will return all holes as separate shapes. Read more in <a href=https://threejs.org/docs/#api/en/extras/core/ShapePath.toShapes>toShapes documention</a>.<span class=sidenote__bracket>)</span></span><p>Finally we got to the shapes {{ sidenote(text="we can use <code>ExtrudeGeometry</code> on.", note=" You'll notice that every geometry in three.js has a "Buffer" version (e.g. <code>ExtrudeBufferGeometry</code>). Those are more optimized versions you should use on complex projects. If performance is not an issue (e.g. while learning), we can use more user friendly non-buffer versions. ") }}<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#c678dd;>const </span><span style=color:#e06c75;>svgMarkup </span><span style=color:#c678dd;>= </span><span>document.</span><span style=color:#61afef;>querySelector</span><span>(</span><span style=color:#98c379;>'svg'</span><span>).</span><span style=color:#e06c75;>outerHTML</span><span>;
</span><span>
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>loader </span><span style=color:#c678dd;>= new </span><span>THREE.SVGLoader();
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>svgData </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>loader</span><span>.</span><span style=color:#61afef;>parse</span><span>(</span><span style=color:#e06c75;>svgMarkup</span><span>);
</span><span>
</span><span style=color:#5c6370;>// Group that will contain all of our paths
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>svgGroup </span><span style=color:#c678dd;>= new </span><span>THREE.Group();
</span><span>
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>material </span><span style=color:#c678dd;>= new </span><span>THREE.MeshNormalMaterial();
</span><span>
</span><span style=color:#5c6370;>// Loop through all of the parsed paths
</span><span style=color:#e06c75;>svgData</span><span>.</span><span style=color:#e06c75;>paths</span><span>.</span><span style=color:#61afef;>forEach</span><span>((</span><span style=color:#e06c75;>path</span><span>, </span><span style=color:#e06c75;>i</span><span>) </span><span style=color:#c678dd;>=> </span><span>{
</span><span>  </span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>shapes </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>path</span><span>.</span><span style=color:#61afef;>toShapes</span><span>(</span><span style=color:#e5c07b;>true</span><span>);
</span><span>
</span><span>  </span><span style=color:#5c6370;>// Each path has array of shapes
</span><span>  </span><span style=color:#e06c75;>shapes</span><span>.</span><span style=color:#61afef;>forEach</span><span>((</span><span style=color:#e06c75;>shape</span><span>, </span><span style=color:#e06c75;>j</span><span>) </span><span style=color:#c678dd;>=> </span><span>{
</span><span>    </span><span style=color:#5c6370;>// Finally we can take each shape and extrude it
</span><span>    </span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>geometry </span><span style=color:#c678dd;>= new </span><span>THREE.ExtrudeGeometry(</span><span style=color:#e06c75;>shape</span><span>, {
</span><span>      depth: </span><span style=color:#e5c07b;>20</span><span>,
</span><span>      bevelEnabled: </span><span style=color:#e5c07b;>false
</span><span>    });
</span><span>
</span><span>    </span><span style=color:#5c6370;>// Create a mesh and add it to the group
</span><span>    </span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>mesh </span><span style=color:#c678dd;>= new </span><span>THREE.Mesh(</span><span style=color:#e06c75;>geometry</span><span>, </span><span style=color:#e06c75;>material</span><span>);
</span><span>
</span><span>    </span><span style=color:#e06c75;>svgGroup</span><span>.</span><span style=color:#61afef;>add</span><span>(</span><span style=color:#e06c75;>mesh</span><span>);
</span><span>  });
</span><span>});
</span><span>
</span><span style=color:#5c6370;>// Add our group to the scene (you'll need to create a scene)
</span><span style=color:#e06c75;>scene</span><span>.</span><span style=color:#61afef;>add</span><span>(</span><span style=color:#e06c75;>svgGroup</span><span>);
</span></code></pre><p><img alt="SVG path rendered in 3d space, but inverted" src=/img/extrude-svg/step-one.png><p>Our progress will look something like this, and we got to our first gotcha:<h2 id=svg-paths-are-inverted-on-y-axis>SVG paths are inverted on Y axis<a aria-label="Anchor link for: svg-paths-are-inverted-on-y-axis" title="Anchor link for: svg-paths-are-inverted-on-y-axis" class=header-anchor href=#svg-paths-are-inverted-on-y-axis> <span aria-hidden=true class=sr-only>#</span></a></h2><p>Our image is rendered upside down! This happens in the process of mapping SVG's 2d to three.js' 3d coordinate system. SVG coordinate system has a center in the top left corner and positive values on Y axis are drawn downwards.<p>Three.js renderer draws paths using values from SVG paths. But in 3d space, positive Y values are drawn upwards and our image gets inverted.<p>We can fix this by simply inverting the group that contain our objects:<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#e06c75;>svgGroup</span><span>.</span><span style=color:#e06c75;>scale</span><span>.y </span><span style=color:#c678dd;>*= -</span><span style=color:#e5c07b;>1</span><span>;
</span></code></pre><p><img alt="SVG path rendered in 3d space, this time in correct orientation" src=/img/extrude-svg/step-two.png><h2 id=every-object-has-0-0-0-position>Every object has (0, 0, 0) position<a aria-label="Anchor link for: every-object-has-0-0-0-position" title="Anchor link for: every-object-has-0-0-0-position" class=header-anchor href=#every-object-has-0-0-0-position> <span aria-hidden=true class=sr-only>#</span></a></h2><p>Shapes we got from SVG are rendered in correct positions, but for some reason they all have position set to (0, 0, 0), meaning each object is relative to itself. If you log <code>mesh.position</code> you'll get:<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#e06c75;>Vector3 </span><span>{ x: </span><span style=color:#e5c07b;>0</span><span>, y: </span><span style=color:#e5c07b;>0</span><span>, z: </span><span style=color:#e5c07b;>0 </span><span>}
</span></code></pre><p>What confuses me is that they are obviously not at position (0, 0, 0) in the scene. If you can explain this and how to get their actual position in the scene, please leave a comment.<h2 id=rotating-object-around-it-s-center>Rotating object around it's center<a aria-label="Anchor link for: rotating-object-around-it-s-center" title="Anchor link for: rotating-object-around-it-s-center" class=header-anchor href=#rotating-object-around-it-s-center> <span aria-hidden=true class=sr-only>#</span></a></h2><p>To show our object in it's full 3d glory let's add a rotation around Y axis. But it doesn't look good. It is rotating around its left edge (top left corner to be exact) instead of it's center.<p><img alt="Our element rotates around it's corner and it's center" src=/img/extrude-svg/step-three.png><p><strong>September 2020 update</strong>: if you have only one path in the SVG you can use the tip from tuseroni's comment. Basically you just need to call <code>geometry.center()</code> before creating the mesh, to center it based on the bounding box. Unfortunately if you have multiple paths, this won't work.<hr><p>Usual way of changing the rotation pivot is by offsetting the object's geometry. We can't do that, as <code>Group</code> class doesn't have geometry, but we can offset all of it's children. Now it comes handy that children are relative to themselves. We are just going to offset each child object for the half of the width and height of the whole group.<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#5c6370;>// Meshes we got are all relative to themselves
</span><span style=color:#5c6370;>// meaning they have position set to (0, 0, 0)
</span><span style=color:#5c6370;>// which makes centering them in the group easy
</span><span>
</span><span style=color:#5c6370;>// Get group's size
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>box </span><span style=color:#c678dd;>= new </span><span>THREE.Box3().</span><span style=color:#61afef;>setFromObject</span><span>(</span><span style=color:#e06c75;>svgGroup</span><span>);
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>size </span><span style=color:#c678dd;>= new </span><span>THREE.Vector3();
</span><span style=color:#e06c75;>box</span><span>.</span><span style=color:#61afef;>getSize</span><span>(</span><span style=color:#e06c75;>size</span><span>);
</span><span>
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>yOffset </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>size</span><span>.y </span><span style=color:#c678dd;>/ -</span><span style=color:#e5c07b;>2</span><span>;
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>xOffset </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>size</span><span>.x </span><span style=color:#c678dd;>/ -</span><span style=color:#e5c07b;>2</span><span>;
</span><span>
</span><span style=color:#5c6370;>// Offset all of group's elements, to center them
</span><span style=color:#e06c75;>svgGroup</span><span>.</span><span style=color:#e06c75;>children</span><span>.</span><span style=color:#61afef;>forEach</span><span>(</span><span style=color:#e06c75;>item </span><span style=color:#c678dd;>=> </span><span>{
</span><span>  </span><span style=color:#e06c75;>item</span><span>.</span><span style=color:#e06c75;>position</span><span>.x </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>xOffset</span><span>;
</span><span>  </span><span style=color:#e06c75;>item</span><span>.</span><span style=color:#e06c75;>position</span><span>.y </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>yOffset</span><span>;
</span><span>});
</span><span>
</span></code></pre><p>Finally, we got what we wanted, so let's wrap things up.<p><img alt="Our element now rotates around it's center" src=/img/extrude-svg/final.png><h2 id=putting-it-all-together>Putting it all together<a aria-label="Anchor link for: putting-it-all-together" title="Anchor link for: putting-it-all-together" class=header-anchor href=#putting-it-all-together> <span aria-hidden=true class=sr-only>#</span></a></h2><p>This post ended up longer than I expected, and I hope it wasn't too slow of a write up.<h3 id=code>Code<a aria-label="Anchor link for: code" title="Anchor link for: code" class=header-anchor href=#code> <span aria-hidden=true class=sr-only>#</span></a></h3><p>Here is the code used, and beneath it you'll find the <a href=https://muffinman.io/blog/three-js-extrude-svg-path/#live-demo>live demo</a>.<pre class=language-js data-lang=js style=background-color:#282c34;color:#dcdfe4;><code class=language-js data-lang=js><span style=color:#5c6370;>// You'll need to create a three.js scene yourself
</span><span>
</span><span style=color:#5c6370;>// Get SVG markup from DOM
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>svgMarkup </span><span style=color:#c678dd;>= </span><span>document.</span><span style=color:#61afef;>querySelector</span><span>(</span><span style=color:#98c379;>'svg'</span><span>).</span><span style=color:#e06c75;>outerHTML</span><span>;
</span><span>
</span><span style=color:#5c6370;>// SVG Loader is not a part of the main three.js bundle
</span><span style=color:#5c6370;>// we need to load it by hand from:
</span><span style=color:#5c6370;>// https://github.com/mrdoob/three.js/blob/master/examples/js/loaders/SVGLoader.js
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>loader </span><span style=color:#c678dd;>= new </span><span>THREE.SVGLoader();
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>svgData </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>loader</span><span>.</span><span style=color:#61afef;>parse</span><span>(</span><span style=color:#e06c75;>svgMarkup</span><span>);
</span><span>
</span><span style=color:#5c6370;>// Group we'll use for all SVG paths
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>svgGroup </span><span style=color:#c678dd;>= new </span><span>THREE.Group();
</span><span style=color:#5c6370;>// When importing SVGs paths are inverted on Y axis
</span><span style=color:#5c6370;>// it happens in the process of mapping from 2d to 3d coordinate system
</span><span style=color:#e06c75;>svgGroup</span><span>.</span><span style=color:#e06c75;>scale</span><span>.y </span><span style=color:#c678dd;>*= -</span><span style=color:#e5c07b;>1</span><span>;
</span><span>
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>material </span><span style=color:#c678dd;>= new </span><span>THREE.MeshNormalMaterial();
</span><span>
</span><span style=color:#5c6370;>// Loop through all of the parsed paths
</span><span style=color:#e06c75;>svgData</span><span>.</span><span style=color:#e06c75;>paths</span><span>.</span><span style=color:#61afef;>forEach</span><span>((</span><span style=color:#e06c75;>path</span><span>, </span><span style=color:#e06c75;>i</span><span>) </span><span style=color:#c678dd;>=> </span><span>{
</span><span>  </span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>shapes </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>path</span><span>.</span><span style=color:#61afef;>toShapes</span><span>(</span><span style=color:#e5c07b;>true</span><span>);
</span><span>
</span><span>  </span><span style=color:#5c6370;>// Each path has array of shapes
</span><span>  </span><span style=color:#e06c75;>shapes</span><span>.</span><span style=color:#61afef;>forEach</span><span>((</span><span style=color:#e06c75;>shape</span><span>, </span><span style=color:#e06c75;>j</span><span>) </span><span style=color:#c678dd;>=> </span><span>{
</span><span>    </span><span style=color:#5c6370;>// Finally we can take each shape and extrude it
</span><span>    </span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>geometry </span><span style=color:#c678dd;>= new </span><span>THREE.ExtrudeGeometry(</span><span style=color:#e06c75;>shape</span><span>, {
</span><span>      depth: </span><span style=color:#e5c07b;>20</span><span>,
</span><span>      bevelEnabled: </span><span style=color:#e5c07b;>false
</span><span>    });
</span><span>
</span><span>    </span><span style=color:#5c6370;>// Create a mesh and add it to the group
</span><span>    </span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>mesh </span><span style=color:#c678dd;>= new </span><span>THREE.Mesh(</span><span style=color:#e06c75;>geometry</span><span>, </span><span style=color:#e06c75;>material</span><span>);
</span><span>
</span><span>    </span><span style=color:#e06c75;>svgGroup</span><span>.</span><span style=color:#61afef;>add</span><span>(</span><span style=color:#e06c75;>mesh</span><span>);
</span><span>  });
</span><span>});
</span><span>
</span><span style=color:#5c6370;>// Meshes we got are all relative to themselves
</span><span style=color:#5c6370;>// meaning they have position set to (0, 0, 0)
</span><span style=color:#5c6370;>// which makes centering them in the group easy
</span><span>
</span><span style=color:#5c6370;>// Get group's size
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>box </span><span style=color:#c678dd;>= new </span><span>THREE.Box3().</span><span style=color:#61afef;>setFromObject</span><span>(</span><span style=color:#e06c75;>svgGroup</span><span>);
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>size </span><span style=color:#c678dd;>= new </span><span>THREE.Vector3();
</span><span style=color:#e06c75;>box</span><span>.</span><span style=color:#61afef;>getSize</span><span>(</span><span style=color:#e06c75;>size</span><span>);
</span><span>
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>yOffset </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>size</span><span>.y </span><span style=color:#c678dd;>/ -</span><span style=color:#e5c07b;>2</span><span>;
</span><span style=color:#c678dd;>const </span><span style=color:#e06c75;>xOffset </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>size</span><span>.x </span><span style=color:#c678dd;>/ -</span><span style=color:#e5c07b;>2</span><span>;
</span><span>
</span><span style=color:#5c6370;>// Offset all of group's elements, to center them
</span><span style=color:#e06c75;>svgGroup</span><span>.</span><span style=color:#e06c75;>children</span><span>.</span><span style=color:#61afef;>forEach</span><span>(</span><span style=color:#e06c75;>item </span><span style=color:#c678dd;>=> </span><span>{
</span><span>  </span><span style=color:#e06c75;>item</span><span>.</span><span style=color:#e06c75;>position</span><span>.x </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>xOffset</span><span>;
</span><span>  </span><span style=color:#e06c75;>item</span><span>.</span><span style=color:#e06c75;>position</span><span>.y </span><span style=color:#c678dd;>= </span><span style=color:#e06c75;>yOffset</span><span>;
</span><span>});
</span><span>
</span><span style=color:#5c6370;>// Finally we add svg group to the scene
</span><span style=color:#e06c75;>scene</span><span>.</span><span style=color:#61afef;>add</span><span>(</span><span style=color:#e06c75;>svgGroup</span><span>);
</span></code></pre><h3 id=live-demo>Live demo<a aria-label="Anchor link for: live-demo" title="Anchor link for: live-demo" class=header-anchor href=#live-demo> <span aria-hidden=true class=sr-only>#</span></a></h3><iframe src="https://codepen.io/stanko/embed/gObMepb?default-tab=result&theme-id=light" title="three.js extrude SVG path" allowfullscreen allowtransparency frameborder=no height=420 loading=lazy scrolling=no>See the Pen <a href=https://codepen.io/stanko/pen/gObMepb> three.js extrude SVG path</a> by Stanko (<a href=https://codepen.io/stanko>@stanko</a>) on <a href=https://codepen.io>CodePen</a>.</iframe></div><svg viewbox="0 0 609 242" aria-hidden=true class=keyboard-svg xmlns=http://www.w3.org/2000/svg> <g fill=#FFFFFF fill-rule=evenodd stroke=none stroke-width=1> <rect class=key height=37 id=key--q rx=6 width=36 x=52 y=70></rect> <rect class=key height=37 id=key--w rx=6 width=36 x=95 y=70></rect> <rect class=key height=37 id=key--e rx=6 width=36 x=138 y=70></rect> <rect class=key height=37 id=key--r rx=6 width=36 x=182 y=70></rect> <rect class=key height=37 id=key--t rx=6 width=36 x=225 y=70></rect> <rect class=key height=37 id=key--y rx=6 width=36 x=269 y=70></rect> <rect class=key height=37 id=key--u rx=6 width=36 x=312 y=70></rect> <rect class=key height=37 id=key--i rx=6 width=36 x=356 y=70></rect> <rect class=key height=37 id=key--o rx=6 width=36 x=399 y=70></rect> <rect class=key height=37 id=key--p rx=6 width=36 x=442 y=70></rect> <rect class=key height=37 id=key--squareBracketLeft rx=6 width=36 x=486 y=70></rect> <rect class=key height=37 id=key--squareBracketRight rx=6 width=36 x=529 y=70></rect> <rect class=key height=37 id=key--backslash rx=6 width=36 x=573 y=70></rect> <rect class=key height=37 id=key--tilde rx=6 width=36 x=1 y=25></rect> <rect class=key height=37 id=key--1 rx=6 width=36 x=44 y=25></rect> <rect class=key height=37 id=key--2 rx=6 width=36 x=88 y=25></rect> <rect class=key height=37 id=key--3 rx=6 width=36 x=131 y=25></rect> <rect class=key height=37 id=key--4 rx=6 width=36 x=175 y=25></rect> <rect class=key height=37 id=key--5 rx=6 width=36 x=218 y=25></rect> <rect class=key height=37 id=key--6 rx=6 width=36 x=262 y=25></rect> <rect class=key height=37 id=key--7 rx=6 width=36 x=305 y=25></rect> <rect class=key height=37 id=key--8 rx=6 width=36 x=348 y=25></rect> <rect class=key height=37 id=key--9 rx=6 width=36 x=392 y=25></rect> <rect class=key height=37 id=key--0 rx=6 width=36 x=435 y=25></rect> <rect class=key height=37 id=key--minus rx=6 width=36 x=479 y=25></rect> <rect class=key height=37 id=key--equals rx=6 width=36 x=522 y=25></rect> <rect class=key height=18 id=key--esc rx=6 width=37 x=1 y=0></rect> <rect class=key height=18 id=key--f1 rx=6 width=37 x=45 y=0></rect> <rect class=key height=18 id=key--f2 rx=6 width=37 x=89 y=0></rect> <rect class=key height=18 id=key--f3 rx=6 width=37 x=133 y=0></rect> <rect class=key height=18 id=key--f4 rx=6 width=37 x=176 y=0></rect> <rect class=key height=18 id=key--f5 rx=6 width=37 x=221 y=0></rect> <rect class=key height=18 id=key--f6 rx=6 width=37 x=264 y=0></rect> <rect class=key height=18 id=key--f7 rx=6 width=37 x=308 y=0></rect> <rect class=key height=18 id=key--f8 rx=6 width=37 x=352 y=0></rect> <rect class=key height=18 id=key--f9 rx=6 width=37 x=396 y=0></rect> <rect class=key height=18 id=key--f10 rx=6 width=37 x=440 y=0></rect> <rect class=key height=18 id=key--f11 rx=6 width=37 x=484 y=0></rect> <rect class=key height=18 id=key--f12 rx=6 width=37 x=528 y=0></rect> <rect class=key height=18 id=key--power rx=6 width=37 x=572 y=0></rect> <rect class=key height=37 id=key--delete rx=6 width=43 x=566 y=25></rect> <rect class=key height=37 id=key--a rx=6 width=36 x=65 y=114></rect> <rect class=key height=37 id=key--s rx=6 width=36 x=109 y=114></rect> <rect class=key height=37 id=key--d rx=6 width=36 x=152 y=114></rect> <rect class=key height=37 id=key--f rx=6 width=36 x=195 y=114></rect> <rect class=key height=37 id=key--g rx=6 width=36 x=239 y=114></rect> <rect class=key height=37 id=key--h rx=6 width=36 x=282 y=114></rect> <rect class=key height=37 id=key--j rx=6 width=36 x=326 y=114></rect> <rect class=key height=37 id=key--k rx=6 width=36 x=369 y=114></rect> <rect class=key height=37 id=key--l rx=6 width=36 x=413 y=114></rect> <rect class=key height=37 id=key--semicolon rx=6 width=36 x=456 y=114></rect> <rect class=key height=37 id=key--apostrophe rx=6 width=36 x=500 y=114></rect> <rect class=key height=37 id=key--z rx=6 width=36 x=88 y=158></rect> <rect class=key height=37 id=key--x rx=6 width=36 x=131 y=158></rect> <rect class=key height=37 id=key--c rx=6 width=36 x=175 y=158></rect> <rect class=key height=37 id=key--v rx=6 width=36 x=218 y=158></rect> <rect class=key height=37 id=key--b rx=6 width=36 x=262 y=158></rect> <rect class=key height=37 id=key--n rx=6 width=36 x=305 y=158></rect> <rect class=key height=37 id=key--m rx=6 width=36 x=348 y=158></rect> <rect class=key height=37 id=key--comma rx=6 width=36 x=392 y=158></rect> <rect class=key height=37 id=key--dot rx=6 width=36 x=435 y=158></rect> <rect class=key height=37 id=key--slash rx=6 width=36 x=479 y=158></rect> <rect class=key height=37 id=key--fn rx=6 width=33 x=0 y=203></rect> <rect class=key height=37 id=key--controlLeft rx=6 width=33 x=41 y=203></rect> <rect class=key height=37 id=key--altLeft rx=6 width=33 x=81 y=203></rect> <rect class=key height=37 id=key--altRight rx=6 width=33 x=444 y=203></rect> <rect class=key height=19 id=key--arrowLeft rx=6 width=37 x=485 y=221></rect> <g transform="translate(529.000000, 203.000000)" class=key id=key--arrowUp> <path d="M37,11.5 L37,6 C37,2.6862915 34.3137085,-6.08718376e-16 31,0 L6,0 L6,0 C2.6862915,6.08718376e-16 -4.05812251e-16,2.6862915 0,6 L0,6 L0,11.5 L0,19 L37,19 L37,11.5 Z"></path> </g> <g transform="translate(529.000000, 222.000000)" class=key id=key--arrowDown> <path d="M37,7.5 L37,13 C37,16.3137085 34.3137085,19 31,19 L6,19 C2.6862915,19 4.05812251e-16,16.3137085 0,13 L0,7.5 L0,0 L37,0 L37,7.5 Z"></path> </g> <rect class=key height=19 id=key--arrowRight rx=6 width=36 x=573 y=221></rect> <rect class=key height=37 id=key--enter rx=6 width=66 x=543 y=114></rect> <rect class=key height=37 id=key--cmdLeft rx=6 width=45 x=122 y=203></rect> <rect class=key height=37 id=key--cmdRight rx=6 width=45 x=392 y=203></rect> <rect class=key height=37 id=key--shiftRight rx=6 width=87 x=522 y=158></rect> <rect class=key height=37 id=key--tab rx=6 width=44 x=0 y=70></rect> <rect class=key height=37 id=key--capsLock rx=6 width=57 x=0 y=114></rect> <rect class=key height=37 id=key--shiftLeft rx=6 width=80 x=0 y=158></rect> <rect class=key height=37 id=key--space rx=6 width=210 x=175 y=203></rect> </g> </svg><div class=sharing><div class=h4>Share on:</div><div class=sharing__buttons><a class="sharing__button sharing__button--hn" href="http://news.ycombinator.com/submitlink?u=https%3A//muffinman.io/blog/three-js-extrude-svg-path/&t=Three.js%20extrude%20SVG%20path" title="Share post on Hacker News" rel=nofollow target=_blank> <svg viewbox="0 0 106 137" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M44.374 82.746.433.432h20.081l25.848 52.092c.398.928.862 1.889 1.392 2.883.53.994.994 2.022 1.391 3.082.266.398.464.762.597 1.094.133.33.265.63.398.894a65.643 65.643 0 0 1 1.79 3.877c.53 1.26.993 2.42 1.39 3.48a601.604 601.604 0 0 1 3.48-7.257c1.26-2.585 2.552-5.27 3.877-8.053L86.923.432h18.69L61.273 83.74v53.087h-16.9V82.746h.001Z"/> </svg> </a><a class="sharing__button sharing__button--twitter" href="http://twitter.com/share?text=Three.js%20extrude%20SVG%20path&url=https%3A//muffinman.io/blog/three-js-extrude-svg-path/" title="Share post on Twitter" rel=nofollow target=_blank> <svg viewbox="0 0 24 24" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M23.444 4.834c-.814.363-1.5.375-2.228.016.938-.562.981-.957 1.32-2.019-.878.521-1.851.9-2.886 1.104a4.545 4.545 0 0 0-7.742 4.145 12.897 12.897 0 0 1-9.366-4.748 4.525 4.525 0 0 0-.615 2.285c0 1.577.803 2.967 2.021 3.782a4.527 4.527 0 0 1-2.057-.568l-.001.057a4.547 4.547 0 0 0 3.646 4.456 4.575 4.575 0 0 1-2.053.079 4.551 4.551 0 0 0 4.245 3.155A9.138 9.138 0 0 1 1 18.459 12.865 12.865 0 0 0 7.966 20.5c8.358 0 12.928-6.924 12.928-12.929 0-.198-.003-.393-.012-.588.887-.64 1.953-1.237 2.562-2.149z"/> </svg> </a><a class="sharing__button sharing__button--reddit" href="http://www.reddit.com/submit?url=https%3A//muffinman.io/blog/three-js-extrude-svg-path/&title=Three.js%20extrude%20SVG%20path" title="Share post on reddit" rel=nofollow target=_blank> <svg viewbox="0 0 24 24" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M2.204 14.049c-.06.276-.091.56-.091.847 0 3.443 4.402 6.249 9.814 6.249 5.41 0 9.812-2.804 9.812-6.249 0-.274-.029-.546-.082-.809l-.015-.032a.456.456 0 0 1-.029-.165c-.302-1.175-1.117-2.241-2.296-3.103a.422.422 0 0 1-.126-.07c-.026-.02-.045-.042-.067-.064-1.792-1.234-4.356-2.008-7.196-2.008-2.815 0-5.354.759-7.146 1.971a.397.397 0 0 1-.179.124c-1.206.862-2.042 1.937-2.354 3.123a.454.454 0 0 1-.037.171l-.008.015zm9.773 5.441c-1.794 0-3.057-.389-3.863-1.197a.45.45 0 0 1 0-.632.47.47 0 0 1 .635 0c.63.629 1.685.943 3.228.943 1.542 0 2.591-.3 3.219-.929a.463.463 0 0 1 .629 0 .482.482 0 0 1 0 .645c-.809.808-2.065 1.198-3.862 1.198l.014-.028zm-3.606-7.573c-.914 0-1.677.765-1.677 1.677 0 .91.763 1.65 1.677 1.65s1.651-.74 1.651-1.65c0-.912-.739-1.677-1.651-1.677zm7.233 0c-.914 0-1.678.765-1.678 1.677 0 .91.764 1.65 1.678 1.65s1.651-.74 1.651-1.65c0-.912-.739-1.677-1.651-1.677zm4.548-1.595c1.037.833 1.8 1.821 2.189 2.904a1.818 1.818 0 0 0-2.189-2.902v-.002zM2.711 9.963a1.82 1.82 0 0 0-1.173 3.207c.401-1.079 1.172-2.053 2.213-2.876a1.82 1.82 0 0 0-1.039-.329v-.002zm9.217 12.079c-5.906 0-10.709-3.205-10.709-7.142 0-.275.023-.544.068-.809A2.723 2.723 0 0 1 0 11.777a2.725 2.725 0 0 1 2.725-2.713 2.7 2.7 0 0 1 1.797.682c1.856-1.191 4.357-1.941 7.112-1.992l1.812-5.524.404.095s.016 0 .016.002l4.223.993a2.237 2.237 0 0 1 4.296.874c0 1.232-1.003 2.234-2.231 2.234s-2.23-1.004-2.23-2.23l-3.851-.912-1.467 4.477c2.65.105 5.047.854 6.844 2.021a2.663 2.663 0 0 1 1.833-.719 2.716 2.716 0 0 1 2.718 2.711c0 .987-.54 1.886-1.378 2.365.029.255.059.494.059.749-.015 3.938-4.806 7.143-10.72 7.143l-.034.009zm8.179-19.187a1.339 1.339 0 1 0 0 2.678c.732 0 1.33-.6 1.33-1.334 0-.733-.598-1.332-1.347-1.332l.017-.012z"/> </svg> </a></div></div></div><div class=post__bottom><div class=container><div class=related-posts><h2 class="h3 related-posts__title">Related Posts</h2><a class=related-posts__post href=https://muffinman.io/blog/metaballs-generative-art/> <div class=related-posts__post-title>Metaballs<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>06. February 2020</div> </a><a class=related-posts__post href=https://muffinman.io/blog/sektor-draw-and-animate-svg-circle-sectors-2016/> <div class=related-posts__post-title>Sektor - draw and animate SVG sectors<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>29. June 2016</div> </a><a class=related-posts__post href=https://muffinman.io/blog/js-libraries-for-generative-art/> <div class=related-posts__post-title>Libraries I use for generative art<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>28. February 2022</div> </a></div><div class=comments><h2 class="h3 comments__title" id=comments>Comments (4)</h2><div><div class=comment id=comment-a7e098c0-71f2-11ea-a4b4-f58fb02115e2><div class=comment__top><img src="https://www.gravatar.com/avatar/e2454a6f25b3a3413d5d4f84b0b1a2ac?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">Victor Wei</div><div class=comment__date>29. Mar 2020, 19:22</div></div></div><div class=comment__message><p>Is there a way to support colored SVG's?</div></div><div class=comment id=comment-162a1200-71fa-11ea-8794-b3f677008c8f><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>29. Mar 2020, 20:15</div></div></div><div class=comment__message><p>Hey Victor, You can apply this method to all of the paths in the SVG file. But you need to color them by hand using <code>MeshStandardMaterial</code> or other ThreeJS material.<p>Cheers!</div></div><div class=comment id=comment-4a02eb80-f1c8-11ea-894e-1b3701341697><div class=comment__top><img src="https://www.gravatar.com/avatar/3acf152393048d53644754b8bdabac39?d=mm&r=g" aria-hidden=true class=comment__avatar><div class=comment__right><div class="comment__name h5">tuseroni</div><div class=comment__date>08. Sep 2020, 11:41</div></div></div><div class=comment__message><p>"If you can explain this and how to get their actual position in the scene, please leave a comment."<p>i can actually explain this, yay.<p>the different shapes have an offset from 0 when they are drawn. so let's say the first M has it's bottom left corner at your 0,0 point, the NEXT M has IT'S bottom left corner at the end of the FIRST M's bottom right corner. see it has an offset in its drawing from 0,0, this is why each SHAPE has a position of 0,0,0 if you move,say the second M, you will see it position is offset from where you moved it to by the width of the first M.<p>to fix this, change this code:<pre>const mesh = new THREE.Mesh(geometry, material);</pre><p>to<pre>geometry.center();

const mesh = new THREE.Mesh(geometry, material); </pre><p>and then you can remove this:<pre>svgGroup.children.forEach(item => {
  item.position.x = xOffset;
  item.position.y = yOffset;
});</pre></div></div><div class=comment id=comment-42cde8e0-f1ca-11ea-894e-1b3701341697><div class=comment__top><div class="comment__avatar comment__avatar--mm"><svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg></div><div class=comment__right><div class="comment__name h5">Stanko</div><div class=comment__date>08. Sep 2020, 11:55</div></div></div><div class=comment__message><p>Thank you very much for the explanation tuseroni!<p>This is brilliant, I'm going to try it and update the article!<p>Cheers!!</div></div></div></div></div></div></section><footer class=footer><div class="container footer__content"><a class=footer__rss-link href=/atom.xml target=_blank> <svg viewbox="0 0 8 8" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <g fill=currentColor transform=matrix(1.3329835,0,0,1.3333333,-0.12812669,-2.6739007)> <ellipse cx=0.88595736 cy=7.2168303 rx=0.78983712 ry=0.78859526 /> <path d="m 0.09769498,5.0054256 a 3,3 0 0 1 3.00000002,3 h 1 a 4,4 0 0 0 -4.00000002,-4 z"/> <path d="m 0.09769498,3.0054256 a 5,5 0 0 1 5.00000002,5 h 1 a 6,6 0 0 0 -6.00000002,-6 z"/> </g> </svg> RSS Feed </a><div class=footer__text><a aria-label=Home class=footer__logo-link href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><p>© 2016-2022. All rights reserved.<p>Written with ♡ by Stanko Tadić. Made in Serbia.</div><nav class="nav nav--footer"><a class=nav__item href=/>Home</a><span aria-hidden=true>/</span><a class="nav__item nav__item--with-icon" href=/art/> Art </a><span aria-hidden=true>/</span><a class=nav__item href=/archive/> Blog </a><span aria-hidden=true>/</span><a class=nav__item href=/about/> About </a><span aria-hidden=true>/</span><button class="nav__item nav__item--with-icon" data-micromodal-trigger=modal-menu>Search <svg viewbox="0 0 20 32" aria-hidden=true class=nav__search-icon height=16 width=10 xmlns=http://www.w3.org/2000/svg> <g fill=none stroke=currentColor stroke-linecap=round stroke-width=3> <circle cx=10 cy=10 r=10 /> <path d="M 10 20 L 10 32"/> </g> </svg></button></nav></div></footer></div><div aria-hidden=true class=modal id=modal-menu><div class=modal__overlay><div><div aria-hidden=true class=modal__shadow></div><div aria-labelledby=modal-menu-title aria-modal=true class=modal__container role=dialog><main class=modal__content id=modal-menu-content><h2 class=sr-only id=modal-menu-title>Menu and search</h2><div class=menu><div class=container><a aria-label=Home class=menu__logo href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><button aria-label=Close class=menu__close data-micromodal-close><span></span> <span></span></button></div></div><div class=modal__top><div class=container><label class=sr-only for=search>Search</label><input autocomplete=off class=search__input id=search placeholder=Search></div></div><div class=modal__bottom><div class=container><div class=modal-nav><a class=h1 href=/art/> Art </a><a class=h1 href=/archive/> Blog </a><a class=h1 href=/about/> About </a><a class=h1 href=/atom.xml target=_blank> RSS Feed </a><a class=h1 href=https://github.com/stanko/ rel=noopener target=_blank> GitHub </a></div></div><div class=search__results></div><main><div></div><div></div><script src=/js/search-data.js></script><script src=/js/app.js></script><script>if (window.location.hostname !== 'localhost' && window.location.hostname !== 'motorhead.local' && window.location.hostname !== '0.0.0.0') {
      (function() {
        window.counter = 'https://muffinman_io.goatcounter.com/count';
        var script = document.createElement('script');
        script.async = 1;
        script.src = '//gc.zgo.at/count.js';
        var ins = document.getElementsByTagName('script')[0];
        ins.parentNode.insertBefore(script, ins);
      })();
    }</script>