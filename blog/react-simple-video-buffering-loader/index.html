<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Simple video buffering loader in React · Muffin Man</title><meta content="For multiple projects, I had to add a simple video component with

  play/pause button


(Always include at least basic video controls for accessibili…" name=description><meta content="Muffin Man" property=og:site_name><meta content="Simple video buffering loader in React" property=og:title><meta content="For multiple projects, I had to add a simple video component with

  play/pause button


(Always include at least basic video controls for accessibili…" property=og:description><meta content=https://muffinman.io/blog/react-simple-video-buffering-loader/ property=og:url><meta content="Simple video buffering loader in React" name=twitter:title><meta content="For multiple projects, I had to add a simple video component with

  play/pause button


(Always include at least basic video controls for accessibili…" name=twitter:description><meta content=https://muffinman.io/img/video-buffering.jpg property=twitter:image><meta content=https://muffinman.io/img/video-buffering.jpg property=og:image><link href=/favicon/icon.ico rel=icon sizes=any><link href=/favicon/icon.svg rel=icon type=image/svg+xml><link href=/favicon/icon-180.png rel=apple-touch-icon><link href=/favicon/manifest.webmanifest rel=manifest><link href=/style.css rel=stylesheet><link href=/atom.xml rel=alternate title=RSS type=application/rss+xml><body><div id=page><a class=jump-to-content href=#content>Jump to content</a><header class=menu><div class=container><a aria-label=Home class=menu__logo href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><nav class="nav nav--header"><a class=nav__item href=/>Home</a><span aria-hidden=true>/</span><a class=nav__item href=/archive/> Archive </a><span aria-hidden=true>/</span><a class="nav__item nav__item--with-icon" title="On my Instagram profile" href=https://instagram.com/muffinman_io/ rel=noopener target=_blank> Art <svg viewbox="0 0 20 20" aria-hidden=true class=nav__external-icon height=10 width=10 xmlns=http://www.w3.org/2000/svg> <g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2.5> <path d="M 0 20 20 0 M 8 0 20 0 20 12"/> </g> </svg> </a><span aria-hidden=true>/</span><a class=nav__item href=/about/> About </a><span aria-hidden=true>/</span><button class="nav__item nav__item--with-icon" data-micromodal-trigger=modal-menu>Search <svg viewbox="0 0 20 32" aria-hidden=true class=nav__search-icon height=16 width=10 xmlns=http://www.w3.org/2000/svg> <g fill=none stroke=currentColor stroke-linecap=round stroke-width=3> <circle cx=10 cy=10 r=10 /> <path d="M 10 20 L 10 32"/> </g> </svg></button></nav><button aria-label=Menu class=menu__toggle data-micromodal-trigger=modal-menu><span></span> <span></span> <span></span></button></div></header><div class=menu-stripe></div><section class=main id=content role=main tabindex=-1><div class=post__top><div class="container post__top-content"><h1 class=post__title>Simple video buffering loader in React</h1><div class=post__date>16. October 2020</div><div class=post__info><div>Posted in <a href=/archive/#react>React</a></div><span class=post__info-separator>·</span> 3 minutes read <div class=post__comments-link></div></div></div></div><div class=container><div class=content><p>For multiple projects, I had to add a simple video component with <span class=sidenote__trigger role=button tabindex=0> play/pause button </span> <span class=sidenote__note><span class=sidenote__bracket>(</span>Always include at least basic video controls for accessibility<span class=sidenote__bracket>)</span></span> and a buffering loader. It is not hard to detect the buffering state, but it can be tricky to get everything right.<p>Therefore, I created a simple component which I now copy from project to project with slight style adjustments. Jump to <a href=https://muffinman.io/blog/react-simple-video-buffering-loader/#code>the code</a> if you are not interested in how it's made.</p><span id=continue-reading></span><h2 id=demo>Demo<a aria-label="Anchor link for: demo" title="Anchor link for: demo" class=header-anchor href=#demo><span aria-hidden=true class=sr-only> #</span></a></h2><p>Here you can see the final version (it might be easier to see the functionality if you <a href=https://codepen.io/stanko/pen/WNxwreJ target=_blank>open it in a separate tab</a>).</p><iframe src="//codepen.io/stanko/embed/preview/WNxwreJ/?height=450&theme-id=light&default-tab=result" allowfullscreen allowtransparency frameborder=no height=550px scrolling=no>See the Pen <a href=http://codepen.io/stanko/pen/WNxwreJ/>React - Simple video buffering loader</a> by Stanko (<a href=http://codepen.io/stanko>@stanko</a>) on <a href=http://codepen.io>CodePen</a>.</iframe><h2 id=how-it-works>How it works<a aria-label="Anchor link for: how-it-works" title="Anchor link for: how-it-works" class=header-anchor href=#how-it-works><span aria-hidden=true class=sr-only> #</span></a></h2><p>The solution is simple and relies on four video events:<ul><li><code>waiting</code> - playback has stopped because of a temporary lack of data<li><code>pause</code> - playback has been paused<li><code>play</code> - playback has begun<li><code>playing</code> - playback is ready to start after having been paused or delayed due to lack of data</ul><p>We are going to use <code>waiting</code> event to set our loading flag to <code>true</code> and all other events to set it to <code>false</code>.<p>If the video is already playing, and buffering happens, we'll get events fired in this order:<pre style=background-color:#fafafa;color:#383a42;><code><span>"waiting"
</span><span>"playing"
</span></code></pre><p>This is all fine and dandy, but if the video is paused, and we play it things get a little messy. Now, if buffering happens, we'll get these events fired:<pre style=background-color:#fafafa;color:#383a42;><code><span>"play"
</span><span>"playing"
</span><span>"waiting"
</span><span>"playing"
</span></code></pre><p>All of these events are fired in a very quick succession and alter the state too fast leading to some bad UX. The secret is to add a short debounce time to avoid it. What I found to work best is 200ms for <code>waiting</code> event and 50ms for all others.<h2 id=code>Code<a aria-label="Anchor link for: code" title="Anchor link for: code" class=header-anchor href=#code><span aria-hidden=true class=sr-only> #</span></a></h2><p>I'm using React with hooks, but the same thing can be easily ported to React class or vanilla JavaScript.<pre class=language-tsx data-lang=tsx style=background-color:#fafafa;color:#383a42;><code class=language-tsx data-lang=tsx><span style=color:#a626a4;>import </span><span style=color:#e45649;>React</span><span>, { </span><span style=color:#e45649;>useEffect</span><span>, </span><span style=color:#e45649;>useState</span><span>, </span><span style=color:#e45649;>useRef </span><span>} </span><span style=color:#a626a4;>from </span><span style=color:#50a14f;>'react'</span><span>;
</span><span>
</span><span style=color:#a626a4;>const </span><span style=color:#e45649;>PLAYING_DEBOUNCE_TIME </span><span style=color:#a626a4;>= </span><span style=color:#c18401;>50</span><span>;
</span><span style=color:#a626a4;>const </span><span style=color:#e45649;>WAITING_DEBOUNCE_TIME </span><span style=color:#a626a4;>= </span><span style=color:#c18401;>200</span><span>;
</span><span>
</span><span style=color:#a626a4;>const </span><span style=color:#0184bc;>Video </span><span style=color:#a626a4;>= </span><span>({ </span><span style=color:#e45649;>src</span><span>, </span><span style=color:#a626a4;>...</span><span style=color:#e45649;>props </span><span>}) </span><span style=color:#a626a4;>=> </span><span>{
</span><span>  </span><span style=color:#a626a4;>const </span><span>[</span><span style=color:#e45649;>isPlaying</span><span>, </span><span style=color:#e45649;>setIsPlaying</span><span>] </span><span style=color:#a626a4;>= </span><span style=color:#0184bc;>useState</span><span>(</span><span style=color:#c18401;>false</span><span>);
</span><span>  </span><span style=color:#a626a4;>const </span><span>[</span><span style=color:#e45649;>isWaiting</span><span>, </span><span style=color:#e45649;>setIsWaiting</span><span>] </span><span style=color:#a626a4;>= </span><span style=color:#0184bc;>useState</span><span>(</span><span style=color:#c18401;>false</span><span>);
</span><span>
</span><span>  </span><span style=color:#a626a4;>const </span><span style=color:#e45649;>isWaitingTimeout </span><span style=color:#a626a4;>= </span><span style=color:#0184bc;>useRef</span><span>(</span><span style=color:#c18401;>null</span><span>);
</span><span>  </span><span style=color:#a626a4;>const </span><span style=color:#e45649;>isPlayingTimeout </span><span style=color:#a626a4;>= </span><span style=color:#0184bc;>useRef</span><span>(</span><span style=color:#c18401;>null</span><span>);
</span><span>
</span><span>  </span><span style=color:#a626a4;>const </span><span style=color:#e45649;>videoElementRef </span><span style=color:#a626a4;>= </span><span style=color:#0184bc;>useRef</span><span>();
</span><span>
</span><span>  </span><span style=color:#0184bc;>useEffect</span><span>(() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>    </span><span style=color:#a626a4;>if </span><span>(</span><span style=color:#a626a4;>!</span><span style=color:#e45649;>videoElementRef</span><span>.current) {
</span><span>      </span><span style=color:#a626a4;>return</span><span>;
</span><span>    }
</span><span>
</span><span>    </span><span style=color:#a626a4;>const </span><span style=color:#0184bc;>waitingHandler </span><span style=color:#a626a4;>= </span><span>() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>      </span><span style=color:#0184bc;>clearTimeout</span><span>(</span><span style=color:#e45649;>isWaitingTimeout</span><span>.current);
</span><span>
</span><span>      </span><span style=color:#e45649;>isWaitingTimeout</span><span>.current </span><span style=color:#a626a4;>= </span><span style=color:#0184bc;>setTimeout</span><span>(() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>        </span><span style=color:#0184bc;>setIsWaiting</span><span>(</span><span style=color:#c18401;>true</span><span>);
</span><span>      }, </span><span style=color:#e45649;>WAITING_DEBOUNCE_TIME</span><span>);
</span><span>    };
</span><span>
</span><span>    </span><span style=color:#a626a4;>const </span><span style=color:#0184bc;>playHandler </span><span style=color:#a626a4;>= </span><span>() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>      </span><span style=color:#0184bc;>clearTimeout</span><span>(</span><span style=color:#e45649;>isWaitingTimeout</span><span>.current);
</span><span>      </span><span style=color:#0184bc;>clearTimeout</span><span>(</span><span style=color:#e45649;>isPlayingTimeout</span><span>.current);
</span><span>
</span><span>      </span><span style=color:#e45649;>isPlayingTimeout</span><span>.current </span><span style=color:#a626a4;>= </span><span style=color:#0184bc;>setTimeout</span><span>(() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>        </span><span style=color:#0184bc;>setIsPlaying</span><span>(</span><span style=color:#c18401;>true</span><span>);
</span><span>        </span><span style=color:#0184bc;>setIsWaiting</span><span>(</span><span style=color:#c18401;>false</span><span>);
</span><span>      }, </span><span style=color:#e45649;>PLAYING_DEBOUNCE_TIME</span><span>);
</span><span>    };
</span><span>
</span><span>    </span><span style=color:#a626a4;>const </span><span style=color:#0184bc;>pauseHandler </span><span style=color:#a626a4;>= </span><span>() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>      </span><span style=color:#0184bc;>clearTimeout</span><span>(</span><span style=color:#e45649;>isWaitingTimeout</span><span>.current);
</span><span>      </span><span style=color:#0184bc;>clearTimeout</span><span>(</span><span style=color:#e45649;>isPlayingTimeout</span><span>.current);
</span><span>
</span><span>      </span><span style=color:#e45649;>isPlayingTimeout</span><span>.current </span><span style=color:#a626a4;>= </span><span style=color:#0184bc;>setTimeout</span><span>(() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>        </span><span style=color:#0184bc;>setIsPlaying</span><span>(</span><span style=color:#c18401;>false</span><span>);
</span><span>        </span><span style=color:#0184bc;>setIsWaiting</span><span>(</span><span style=color:#c18401;>false</span><span>);
</span><span>      }, </span><span style=color:#e45649;>PLAYING_DEBOUNCE_TIME</span><span>);
</span><span>    };
</span><span>
</span><span>    </span><span style=color:#a626a4;>const </span><span style=color:#e45649;>element </span><span style=color:#a626a4;>= </span><span style=color:#e45649;>videoElementRef</span><span>.current;
</span><span>
</span><span>    </span><span style=color:#e45649;>element</span><span>.</span><span style=color:#0184bc;>addEventListener</span><span>(</span><span style=color:#50a14f;>"waiting"</span><span>, </span><span style=color:#e45649;>waitingHandler</span><span>);
</span><span>    </span><span style=color:#e45649;>element</span><span>.</span><span style=color:#0184bc;>addEventListener</span><span>(</span><span style=color:#50a14f;>"play"</span><span>, </span><span style=color:#e45649;>playHandler</span><span>);
</span><span>    </span><span style=color:#e45649;>element</span><span>.</span><span style=color:#0184bc;>addEventListener</span><span>(</span><span style=color:#50a14f;>"playing"</span><span>, </span><span style=color:#e45649;>playHandler</span><span>);
</span><span>    </span><span style=color:#e45649;>element</span><span>.</span><span style=color:#0184bc;>addEventListener</span><span>(</span><span style=color:#50a14f;>"pause"</span><span>, </span><span style=color:#e45649;>pauseHandler</span><span>);
</span><span>
</span><span>    </span><span style=color:#a0a1a7;>// clean up
</span><span>    </span><span style=color:#a626a4;>return </span><span>() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>      </span><span style=color:#0184bc;>clearTimeout</span><span>(</span><span style=color:#e45649;>isWaitingTimeout</span><span>.current);
</span><span>      </span><span style=color:#0184bc;>clearTimeout</span><span>(</span><span style=color:#e45649;>isPlayingTimeout</span><span>.current);
</span><span>
</span><span>      </span><span style=color:#e45649;>element</span><span>.</span><span style=color:#0184bc;>removeEventListener</span><span>(</span><span style=color:#50a14f;>"waiting"</span><span>, </span><span style=color:#e45649;>waitingHandler</span><span>);
</span><span>      </span><span style=color:#e45649;>element</span><span>.</span><span style=color:#0184bc;>removeEventListener</span><span>(</span><span style=color:#50a14f;>"play"</span><span>, </span><span style=color:#e45649;>playHandler</span><span>);
</span><span>      </span><span style=color:#e45649;>element</span><span>.</span><span style=color:#0184bc;>removeEventListener</span><span>(</span><span style=color:#50a14f;>"playing"</span><span>, </span><span style=color:#e45649;>playHandler</span><span>);
</span><span>      </span><span style=color:#e45649;>element</span><span>.</span><span style=color:#0184bc;>removeEventListener</span><span>(</span><span style=color:#50a14f;>"pause"</span><span>, </span><span style=color:#e45649;>pauseHandler</span><span>);
</span><span>    };
</span><span>  }, [</span><span style=color:#e45649;>videoElementRef</span><span>]);
</span><span>
</span><span>  </span><span style=color:#a626a4;>const </span><span style=color:#0184bc;>handlePlayPauseClick </span><span style=color:#a626a4;>= </span><span>() </span><span style=color:#a626a4;>=> </span><span>{
</span><span>    </span><span style=color:#a626a4;>if </span><span>(</span><span style=color:#e45649;>videoElementRef</span><span>.current) {
</span><span>      </span><span style=color:#a626a4;>if </span><span>(</span><span style=color:#e45649;>isPlaying</span><span>) {
</span><span>        </span><span style=color:#e45649;>videoElementRef</span><span>.current.</span><span style=color:#0184bc;>pause</span><span>();
</span><span>      } </span><span style=color:#a626a4;>else </span><span>{
</span><span>        </span><span style=color:#e45649;>videoElementRef</span><span>.current.</span><span style=color:#0184bc;>play</span><span>();
</span><span>      }
</span><span>    }
</span><span>  };
</span><span>
</span><span>  </span><span style=color:#a626a4;>return </span><span>(
</span><span>    <</span><span style=color:#e45649;>div </span><span style=color:#c18401;>className</span><span style=color:#a626a4;>=</span><span style=color:#50a14f;>"SimpleVideo"</span><span>>
</span><span>      <</span><span style=color:#e45649;>video </span><span>{</span><span style=color:#a626a4;>...</span><span style=color:#e45649;>props</span><span>} </span><span style=color:#c18401;>ref</span><span style=color:#a626a4;>=</span><span>{</span><span style=color:#e45649;>videoElementRef</span><span>} </span><span style=color:#c18401;>src</span><span style=color:#a626a4;>=</span><span>{</span><span style=color:#e45649;>src</span><span>} </span><span style=color:#c18401;>className</span><span style=color:#a626a4;>=</span><span style=color:#50a14f;>"SimpleVideo-video" </span><span>/>
</span><span>
</span><span>      <</span><span style=color:#e45649;>button </span><span style=color:#c18401;>onClick</span><span style=color:#a626a4;>=</span><span>{</span><span style=color:#e45649;>handlePlayPauseClick</span><span>} </span><span style=color:#c18401;>className</span><span style=color:#a626a4;>=</span><span style=color:#50a14f;>"SimpleVideo-playPause"</span><span>>
</span><span>        {</span><span style=color:#e45649;>isPlaying </span><span style=color:#a626a4;>? </span><span style=color:#50a14f;>"Pause" </span><span style=color:#a626a4;>: </span><span style=color:#50a14f;>"Play"</span><span>}
</span><span>        {</span><span style=color:#e45649;>isWaiting </span><span style=color:#a626a4;>&& </span><span><</span><span style=color:#e45649;>span </span><span style=color:#c18401;>className</span><span style=color:#a626a4;>=</span><span style=color:#50a14f;>"SimpleVideo-loader"</span><span>>Buffering&LT/</span><span style=color:#e45649;>span</span><span>>}
</span><span>      &LT/</span><span style=color:#e45649;>button</span><span>>
</span><span>    &LT/</span><span style=color:#e45649;>div</span><span>>
</span><span>  );
</span><span>};
</span></code></pre></div><svg viewbox="0 0 609 242" aria-hidden=true class=keyboard-svg xmlns=http://www.w3.org/2000/svg> <g fill=#FFFFFF fill-rule=evenodd stroke=none stroke-width=1> <rect class=key height=37 id=key--q rx=6 width=36 x=52 y=70></rect> <rect class=key height=37 id=key--w rx=6 width=36 x=95 y=70></rect> <rect class=key height=37 id=key--e rx=6 width=36 x=138 y=70></rect> <rect class=key height=37 id=key--r rx=6 width=36 x=182 y=70></rect> <rect class=key height=37 id=key--t rx=6 width=36 x=225 y=70></rect> <rect class=key height=37 id=key--y rx=6 width=36 x=269 y=70></rect> <rect class=key height=37 id=key--u rx=6 width=36 x=312 y=70></rect> <rect class=key height=37 id=key--i rx=6 width=36 x=356 y=70></rect> <rect class=key height=37 id=key--o rx=6 width=36 x=399 y=70></rect> <rect class=key height=37 id=key--p rx=6 width=36 x=442 y=70></rect> <rect class=key height=37 id=key--squareBracketLeft rx=6 width=36 x=486 y=70></rect> <rect class=key height=37 id=key--squareBracketRight rx=6 width=36 x=529 y=70></rect> <rect class=key height=37 id=key--backslash rx=6 width=36 x=573 y=70></rect> <rect class=key height=37 id=key--tilde rx=6 width=36 x=1 y=25></rect> <rect class=key height=37 id=key--1 rx=6 width=36 x=44 y=25></rect> <rect class=key height=37 id=key--2 rx=6 width=36 x=88 y=25></rect> <rect class=key height=37 id=key--3 rx=6 width=36 x=131 y=25></rect> <rect class=key height=37 id=key--4 rx=6 width=36 x=175 y=25></rect> <rect class=key height=37 id=key--5 rx=6 width=36 x=218 y=25></rect> <rect class=key height=37 id=key--6 rx=6 width=36 x=262 y=25></rect> <rect class=key height=37 id=key--7 rx=6 width=36 x=305 y=25></rect> <rect class=key height=37 id=key--8 rx=6 width=36 x=348 y=25></rect> <rect class=key height=37 id=key--9 rx=6 width=36 x=392 y=25></rect> <rect class=key height=37 id=key--0 rx=6 width=36 x=435 y=25></rect> <rect class=key height=37 id=key--minus rx=6 width=36 x=479 y=25></rect> <rect class=key height=37 id=key--equals rx=6 width=36 x=522 y=25></rect> <rect class=key height=18 id=key--esc rx=6 width=37 x=1 y=0></rect> <rect class=key height=18 id=key--f1 rx=6 width=37 x=45 y=0></rect> <rect class=key height=18 id=key--f2 rx=6 width=37 x=89 y=0></rect> <rect class=key height=18 id=key--f3 rx=6 width=37 x=133 y=0></rect> <rect class=key height=18 id=key--f4 rx=6 width=37 x=176 y=0></rect> <rect class=key height=18 id=key--f5 rx=6 width=37 x=221 y=0></rect> <rect class=key height=18 id=key--f6 rx=6 width=37 x=264 y=0></rect> <rect class=key height=18 id=key--f7 rx=6 width=37 x=308 y=0></rect> <rect class=key height=18 id=key--f8 rx=6 width=37 x=352 y=0></rect> <rect class=key height=18 id=key--f9 rx=6 width=37 x=396 y=0></rect> <rect class=key height=18 id=key--f10 rx=6 width=37 x=440 y=0></rect> <rect class=key height=18 id=key--f11 rx=6 width=37 x=484 y=0></rect> <rect class=key height=18 id=key--f12 rx=6 width=37 x=528 y=0></rect> <rect class=key height=18 id=key--power rx=6 width=37 x=572 y=0></rect> <rect class=key height=37 id=key--delete rx=6 width=43 x=566 y=25></rect> <rect class=key height=37 id=key--a rx=6 width=36 x=65 y=114></rect> <rect class=key height=37 id=key--s rx=6 width=36 x=109 y=114></rect> <rect class=key height=37 id=key--d rx=6 width=36 x=152 y=114></rect> <rect class=key height=37 id=key--f rx=6 width=36 x=195 y=114></rect> <rect class=key height=37 id=key--g rx=6 width=36 x=239 y=114></rect> <rect class=key height=37 id=key--h rx=6 width=36 x=282 y=114></rect> <rect class=key height=37 id=key--j rx=6 width=36 x=326 y=114></rect> <rect class=key height=37 id=key--k rx=6 width=36 x=369 y=114></rect> <rect class=key height=37 id=key--l rx=6 width=36 x=413 y=114></rect> <rect class=key height=37 id=key--semicolon rx=6 width=36 x=456 y=114></rect> <rect class=key height=37 id=key--apostrophe rx=6 width=36 x=500 y=114></rect> <rect class=key height=37 id=key--z rx=6 width=36 x=88 y=158></rect> <rect class=key height=37 id=key--x rx=6 width=36 x=131 y=158></rect> <rect class=key height=37 id=key--c rx=6 width=36 x=175 y=158></rect> <rect class=key height=37 id=key--v rx=6 width=36 x=218 y=158></rect> <rect class=key height=37 id=key--b rx=6 width=36 x=262 y=158></rect> <rect class=key height=37 id=key--n rx=6 width=36 x=305 y=158></rect> <rect class=key height=37 id=key--m rx=6 width=36 x=348 y=158></rect> <rect class=key height=37 id=key--comma rx=6 width=36 x=392 y=158></rect> <rect class=key height=37 id=key--dot rx=6 width=36 x=435 y=158></rect> <rect class=key height=37 id=key--slash rx=6 width=36 x=479 y=158></rect> <rect class=key height=37 id=key--fn rx=6 width=33 x=0 y=203></rect> <rect class=key height=37 id=key--controlLeft rx=6 width=33 x=41 y=203></rect> <rect class=key height=37 id=key--altLeft rx=6 width=33 x=81 y=203></rect> <rect class=key height=37 id=key--altRight rx=6 width=33 x=444 y=203></rect> <rect class=key height=19 id=key--arrowLeft rx=6 width=37 x=485 y=221></rect> <g transform="translate(529.000000, 203.000000)" class=key id=key--arrowUp> <path d="M37,11.5 L37,6 C37,2.6862915 34.3137085,-6.08718376e-16 31,0 L6,0 L6,0 C2.6862915,6.08718376e-16 -4.05812251e-16,2.6862915 0,6 L0,6 L0,11.5 L0,19 L37,19 L37,11.5 Z"></path> </g> <g transform="translate(529.000000, 222.000000)" class=key id=key--arrowDown> <path d="M37,7.5 L37,13 C37,16.3137085 34.3137085,19 31,19 L6,19 C2.6862915,19 4.05812251e-16,16.3137085 0,13 L0,7.5 L0,0 L37,0 L37,7.5 Z"></path> </g> <rect class=key height=19 id=key--arrowRight rx=6 width=36 x=573 y=221></rect> <rect class=key height=37 id=key--enter rx=6 width=66 x=543 y=114></rect> <rect class=key height=37 id=key--cmdLeft rx=6 width=45 x=122 y=203></rect> <rect class=key height=37 id=key--cmdRight rx=6 width=45 x=392 y=203></rect> <rect class=key height=37 id=key--shiftRight rx=6 width=87 x=522 y=158></rect> <rect class=key height=37 id=key--tab rx=6 width=44 x=0 y=70></rect> <rect class=key height=37 id=key--capsLock rx=6 width=57 x=0 y=114></rect> <rect class=key height=37 id=key--shiftLeft rx=6 width=80 x=0 y=158></rect> <rect class=key height=37 id=key--space rx=6 width=210 x=175 y=203></rect> </g> </svg><div class=sharing><div class=h4>Share on:</div><div class=sharing__buttons><a class="sharing__button sharing__button--hn" href="http://news.ycombinator.com/submitlink?u=https%3A//muffinman.io/blog/react-simple-video-buffering-loader/&t=Simple%20video%20buffering%20loader%20in%20React" title="Share post on Hacker News" rel=nofollow target=_blank> <svg viewbox="0 0 106 137" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M44.374 82.746.433.432h20.081l25.848 52.092c.398.928.862 1.889 1.392 2.883.53.994.994 2.022 1.391 3.082.266.398.464.762.597 1.094.133.33.265.63.398.894a65.643 65.643 0 0 1 1.79 3.877c.53 1.26.993 2.42 1.39 3.48a601.604 601.604 0 0 1 3.48-7.257c1.26-2.585 2.552-5.27 3.877-8.053L86.923.432h18.69L61.273 83.74v53.087h-16.9V82.746h.001Z"/> </svg> </a><a class="sharing__button sharing__button--twitter" href="http://twitter.com/share?text=Simple%20video%20buffering%20loader%20in%20React&url=https%3A//muffinman.io/blog/react-simple-video-buffering-loader/" title="Share post on Twitter" rel=nofollow target=_blank> <svg viewbox="0 0 24 24" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M23.444 4.834c-.814.363-1.5.375-2.228.016.938-.562.981-.957 1.32-2.019-.878.521-1.851.9-2.886 1.104a4.545 4.545 0 0 0-7.742 4.145 12.897 12.897 0 0 1-9.366-4.748 4.525 4.525 0 0 0-.615 2.285c0 1.577.803 2.967 2.021 3.782a4.527 4.527 0 0 1-2.057-.568l-.001.057a4.547 4.547 0 0 0 3.646 4.456 4.575 4.575 0 0 1-2.053.079 4.551 4.551 0 0 0 4.245 3.155A9.138 9.138 0 0 1 1 18.459 12.865 12.865 0 0 0 7.966 20.5c8.358 0 12.928-6.924 12.928-12.929 0-.198-.003-.393-.012-.588.887-.64 1.953-1.237 2.562-2.149z"/> </svg> </a><a class="sharing__button sharing__button--reddit" href="http://www.reddit.com/submit?url=https%3A//muffinman.io/blog/react-simple-video-buffering-loader/&title=Simple%20video%20buffering%20loader%20in%20React" title="Share post on reddit" rel=nofollow target=_blank> <svg viewbox="0 0 24 24" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <path d="M2.204 14.049c-.06.276-.091.56-.091.847 0 3.443 4.402 6.249 9.814 6.249 5.41 0 9.812-2.804 9.812-6.249 0-.274-.029-.546-.082-.809l-.015-.032a.456.456 0 0 1-.029-.165c-.302-1.175-1.117-2.241-2.296-3.103a.422.422 0 0 1-.126-.07c-.026-.02-.045-.042-.067-.064-1.792-1.234-4.356-2.008-7.196-2.008-2.815 0-5.354.759-7.146 1.971a.397.397 0 0 1-.179.124c-1.206.862-2.042 1.937-2.354 3.123a.454.454 0 0 1-.037.171l-.008.015zm9.773 5.441c-1.794 0-3.057-.389-3.863-1.197a.45.45 0 0 1 0-.632.47.47 0 0 1 .635 0c.63.629 1.685.943 3.228.943 1.542 0 2.591-.3 3.219-.929a.463.463 0 0 1 .629 0 .482.482 0 0 1 0 .645c-.809.808-2.065 1.198-3.862 1.198l.014-.028zm-3.606-7.573c-.914 0-1.677.765-1.677 1.677 0 .91.763 1.65 1.677 1.65s1.651-.74 1.651-1.65c0-.912-.739-1.677-1.651-1.677zm7.233 0c-.914 0-1.678.765-1.678 1.677 0 .91.764 1.65 1.678 1.65s1.651-.74 1.651-1.65c0-.912-.739-1.677-1.651-1.677zm4.548-1.595c1.037.833 1.8 1.821 2.189 2.904a1.818 1.818 0 0 0-2.189-2.902v-.002zM2.711 9.963a1.82 1.82 0 0 0-1.173 3.207c.401-1.079 1.172-2.053 2.213-2.876a1.82 1.82 0 0 0-1.039-.329v-.002zm9.217 12.079c-5.906 0-10.709-3.205-10.709-7.142 0-.275.023-.544.068-.809A2.723 2.723 0 0 1 0 11.777a2.725 2.725 0 0 1 2.725-2.713 2.7 2.7 0 0 1 1.797.682c1.856-1.191 4.357-1.941 7.112-1.992l1.812-5.524.404.095s.016 0 .016.002l4.223.993a2.237 2.237 0 0 1 4.296.874c0 1.232-1.003 2.234-2.231 2.234s-2.23-1.004-2.23-2.23l-3.851-.912-1.467 4.477c2.65.105 5.047.854 6.844 2.021a2.663 2.663 0 0 1 1.833-.719 2.716 2.716 0 0 1 2.718 2.711c0 .987-.54 1.886-1.378 2.365.029.255.059.494.059.749-.015 3.938-4.806 7.143-10.72 7.143l-.034.009zm8.179-19.187a1.339 1.339 0 1 0 0 2.678c.732 0 1.33-.6 1.33-1.334 0-.733-.598-1.332-1.347-1.332l.017-.012z"/> </svg> </a></div></div></div><div class=post__bottom><div class=container><div class=related-posts><h2 class="h3 related-posts__title">Related Posts</h2><a class=related-posts__post href=https://muffinman.io/blog/plx-react-parallax-component/> <div class=related-posts__post-title>Plx - React parallax component<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>24. July 2017</div> </a><a class=related-posts__post href=https://muffinman.io/blog/catching-the-blur-event-on-an-element-and-its-children/> <div class=related-posts__post-title>Catching the blur event on an element and its children<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>19. September 2021</div> </a><a class=related-posts__post href=https://muffinman.io/blog/html-canvas-video-player-ios/> <div class=related-posts__post-title>HTML canvas video player<svg viewbox="0 0 30 20" aria-hidden=true class=post-arrow xmlns=http://www.w3.org/2000/svg> <path d="M 0 10 30 10 20 0 30 10 20 20"/> </svg></div> <div class=related-posts__date>05. April 2016</div> </a></div></div></div></section><footer class=footer><div class="container footer__content"><a class=footer__rss-link href=/atom.xml target=_blank> <svg viewbox="0 0 8 8" aria-hidden=true xmlns=http://www.w3.org/2000/svg> <g fill=currentColor transform=matrix(1.3329835,0,0,1.3333333,-0.12812669,-2.6739007)> <ellipse cx=0.88595736 cy=7.2168303 rx=0.78983712 ry=0.78859526 /> <path d="m 0.09769498,5.0054256 a 3,3 0 0 1 3.00000002,3 h 1 a 4,4 0 0 0 -4.00000002,-4 z"/> <path d="m 0.09769498,3.0054256 a 5,5 0 0 1 5.00000002,5 h 1 a 6,6 0 0 0 -6.00000002,-6 z"/> </g> </svg> RSS Feed </a><div class=footer__text><a aria-label=Home class=footer__logo-link href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><p>© 2016-2022. All rights reserved.<p>Written with ♡ by Stanko Tadić. Made in Serbia.</div><nav class="nav nav--footer"><a class=nav__item href=/>Home</a><span aria-hidden=true>/</span><a class=nav__item href=/archive/> Archive </a><span aria-hidden=true>/</span><a class="nav__item nav__item--with-icon" title="On my Instagram profile" href=https://instagram.com/muffinman_io/ rel=noopener target=_blank> Art <svg viewbox="0 0 20 20" aria-hidden=true class=nav__external-icon height=10 width=10 xmlns=http://www.w3.org/2000/svg> <g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2.5> <path d="M 0 20 20 0 M 8 0 20 0 20 12"/> </g> </svg> </a><span aria-hidden=true>/</span><a class=nav__item href=/about/> About </a><span aria-hidden=true>/</span><button class="nav__item nav__item--with-icon" data-micromodal-trigger=modal-menu>Search <svg viewbox="0 0 20 32" aria-hidden=true class=nav__search-icon height=16 width=10 xmlns=http://www.w3.org/2000/svg> <g fill=none stroke=currentColor stroke-linecap=round stroke-width=3> <circle cx=10 cy=10 r=10 /> <path d="M 10 20 L 10 32"/> </g> </svg></button></nav></div></footer></div><div aria-hidden=true class=modal id=modal-menu><div class=modal__overlay><div><div aria-hidden=true class=modal__shadow></div><div aria-labelledby=modal-menu-title aria-modal=true class=modal__container role=dialog><main class=modal__content id=modal-menu-content><h2 class=sr-only id=modal-menu-title>Menu and search</h2><div class=menu><div class=container><a aria-label=Home class=menu__logo href=/> <svg viewbox="0 0 40 20" aria-hidden=true class=logo xmlns=http://www.w3.org/2000/svg> <lineargradient id=logo-gradient> <stop offset=0% stop-color=var(--gradient-color-1) /> <stop offset=70% stop-color=var(--gradient-color-2) /> </lineargradient> <path d="M19.79.5h-2.603c-2.56 0-5.04 1.377-6.003 2.754C10.22 1.877 7.742.5 5.181.5H.5v19h4.681V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h5.204V5.181c1.79.083 3.855 1.35 3.855 3.993V19.5h4.296V9.174c0-2.644 2.065-3.91 3.855-3.993V19.5h4.681V.5h-4.68c-2.562 0-5.04 1.377-6.004 2.754C27.43 1.877 24.952.5 22.391.5Z" fill=url(#logo-gradient) stroke-linecap=round stroke-linejoin=round stroke-width=2px vector-effect=non-scaling-stroke /> </svg> </a><button aria-label=Close class=menu__close data-micromodal-close><span></span> <span></span></button></div></div><div class=modal__top><div class=container><label class=sr-only for=search>Search</label><input class=search__input id=search placeholder=Search></div></div><div class=modal__bottom><div class=container><div class=modal-nav><a class=h1 href=/archive/> Archive </a><a title="On my Instagram profile" class=h1 href=https://instagram.com/muffinman_io/ rel=noopener target=_blank> Art </a><a class=h1 href=/about/> About </a><a class=h1 href=/atom.xml target=_blank> RSS Feed </a><a class=h1 href=https://github.com/stanko/ rel=noopener target=_blank> GitHub </a></div></div><div class=search__results></div><main><div></div><div></div><script src=/js/search-data.js></script><script src=/js/app.js></script><script>if (window.location.hostname !== 'localhost' && window.location.hostname !== 'motorhead.local' && window.location.hostname !== '0.0.0.0') {
      (function() {
        window.counter = 'https://muffinman_io.goatcounter.com/count';
        var script = document.createElement('script');
        script.async = 1;
        script.src = '//gc.zgo.at/count.js';
        var ins = document.getElementsByTagName('script')[0];
        ins.parentNode.insertBefore(script, ins);
      })();
    }</script>